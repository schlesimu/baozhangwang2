<view><block wx:if="{{showLoading}}"><view style="height:100vh;line-height:100vh;font-weight:300;font-size:24rpx;text-align:center;">数据加载中...</view></block><block wx:if="{{!showLoading}}"><view class="up_margin" style="padding-bottom:100rpx;"><view class="margin-lr bg-white margin-top-sm radius-16"><view class="margin-top-lg flex justify-between worktime-tab"><block wx:for="{{tabList}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" data-event-params="{{({index})}}" class="{{['text-center','worktime-tab-item',currentTab===index?'current-tab':'']}}" bindtap="__e"><view class="text-333 f32 current-tab-font" style="font-size:28rpx;">{{item.title}}</view></view></block></view></view><view class="mt10" style="display:flex;justify-content:space-around;align-items:center;"><block wx:if="{{currentTab!==2}}"><view style="flex:1 1 65%;display:flex;justify-content:space-around;align-items:center;margin-right:1%;"><uni-icons vue-id="54253cea-1" type="back" size="24" data-event-opts="{{[['^click',[['selectPrev']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons><view style="flex:1 1 80%;text-align:center;font-size:28rpx;">{{currentYearShow+currentRange}}</view><uni-icons vue-id="54253cea-2" type="forward" size="24" data-event-opts="{{[['^click',[['selectNext']]]]}}" bind:click="__e" bind:__l="__l"></uni-icons></view></block><block wx:if="{{currentTab===2}}"><view style="flex:1 1 65%;margin-right:1%;"><view data-event-opts="{{[['tap',[['open',['$event']]]]]}}" style="text-align:center;background-color:#007AFF;border-radius:8rpx;height:64rpx;line-height:64rpx;color:#ffffff;" bindtap="__e"><block wx:if="{{!showDateRange}}"><uni-icons vue-id="54253cea-3" type="pulldown" size="12" color="#fff" bind:__l="__l"></uni-icons></block><block wx:if="{{!showDateRange}}"><text style="margin-left:4rpx;">选择日期范围</text></block><block wx:if="{{showDateRange}}"><text style="margin-left:4rpx;">{{dateRange}}</text></block></view><uni-calendar class="uni-calendar--hook vue-ref" vue-id="54253cea-4" clear-date="{{true}}" date="{{area.date}}" insert="{{area.insert}}" lunar="{{area.lunar}}" startDate="{{area.startDate}}" endDate="{{area.endDate}}" range="{{area.range}}" data-ref="rangeSelected" data-event-opts="{{[['^confirm',[['confirm']]],['^close',[['close']]]]}}" bind:confirm="__e" bind:close="__e" bind:__l="__l"></uni-calendar></view></block><view data-event-opts="{{[['tap',[['resetRange',['$event']]]]]}}" style="flex:1 1 20%;text-align:center;background-color:#007AFF;border-radius:8rpx;height:64rpx;line-height:64rpx;color:#ffffff;margin-right:1%;" bindtap="__e"><uni-icons vue-id="54253cea-5" type="refreshempty" size="12" color="#fff" bind:__l="__l"></uni-icons><text style="margin-left:4rpx;">重置</text></view><view data-event-opts="{{[['tap',[['setWorktime',['$event']]]]]}}" style="flex:1 1 30%;text-align:center;background-color:#007AFF;border-radius:8rpx;height:64rpx;line-height:64rpx;color:#ffffff;" bindtap="__e">设置考勤周期</view></view><view style="margin-top:30rpx;position:relative;"><block wx:if="{{salaryType===1}}"><view class="animate" style="position:absolute;z-index:20190118;right:20rpx;top:4%;"><image style="width:84rpx;max-height:56rpx;capcity:0.2;" src="../static/images/swiper.png" mode="widthFix"></image></view></block><block wx:if="{{salaryType===0||salaryType===1}}"><scroll-view style="width:100%;white-space:nowrap;" scroll-x="{{true}}"><view style="{{'display:flex;justify-content:space-around;align-items:center;padding:20rpx 0;border-bottom:1px solid #efefef;color:#2979ff;font-size:24rpx;'+(salaryType===0?'width: 100%;':'width: 200%;')}}"><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;display:inline-block;">小时工资</view><block wx:if="{{salaryType===1}}"><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;display:inline-block;">工作日工时</view></block><block wx:if="{{salaryType===1}}"><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;display:inline-block;">普通加班工时</view></block><block wx:if="{{salaryType===1}}"><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;display:inline-block;">周末加班工时</view></block><block wx:if="{{salaryType===1}}"><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;display:inline-block;">节假日加班工时</view></block><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;display:inline-block;">总工时</view><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;display:inline-block;">出勤天数</view><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;display:inline-block;">总收入</view></view><block wx:if="{{showData}}"><view style="{{'padding:20rpx 0;border-bottom:1px solid #efefef;font-size:24rpx;'+(salaryType===0?'width: 100%;':'width: 200%;')}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view style="display:flex;justify-content:space-around;align-items:center;"><view class="ellipsis" style="flex:1 1 20%;text-align:center;font-size:24rpx;">{{"¥"+item.$orig.hourPrice+"元"}}</view><block wx:if="{{salaryType===1}}"><view class="ellipsis" style="flex:1 1 20%;text-align:center;font-size:24rpx;">{{item.$orig.hour+"小时"}}</view></block><block wx:if="{{salaryType===1}}"><view class="ellipsis" style="flex:1 1 20%;text-align:center;font-size:24rpx;">{{item.$orig.common+"小时"}}</view></block><block wx:if="{{salaryType===1}}"><view class="ellipsis" style="flex:1 1 20%;text-align:center;font-size:24rpx;">{{item.$orig.weekend+"小时"}}</view></block><block wx:if="{{salaryType===1}}"><view class="ellipsis" style="flex:1 1 20%;text-align:center;font-size:24rpx;">{{item.$orig.holiday+"小时"}}</view></block><view class="ellipsis" style="flex:1 1 20%;text-align:center;font-size:24rpx;">{{item.$orig.hour+item.$orig.common+item.$orig.weekend+item.$orig.holiday+"小时"}}</view><view class="ellipsis" style="flex:1 1 20%;text-align:center;font-size:24rpx;">{{item.$orig.day+"天"}}</view><view class="ellipsis" style="flex:1 1 20%;text-align:center;font-size:24rpx;">{{"¥"+item.g0/100+"元"}}</view></view></block></view></block></scroll-view></block><block wx:if="{{salaryType===2}}"><scroll-view style="width:100%;white-space:nowrap;" scroll-x="{{true}}"><view style="display:flex;justify-content:space-around;align-items:center;padding:20rpx 0;border-bottom:1px solid #efefef;color:#2979ff;font-size:24rpx;width:100%;"><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;">名称</view><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;">数量</view><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;">单价</view><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;">出勤天数</view><view style="flex:1 1 20%;text-align:center;font-weight:500;font-size:24rpx;">总收入</view></view><block wx:for="{{$root.l1}}" wx:for-item="item" wx:for-index="index" wx:key="id"><block wx:if="{{hourworkList.length}}"><view style="display:flex;justify-content:space-around;align-items:center;padding:20rpx 0;border-bottom:1px solid #efefef;font-size:24rpx;width:100%;"><view class="ellipsis" style="flex:1 1 25%;text-align:center;font-size:24rpx;">{{item.$orig.name}}</view><view class="ellipsis" style="flex:1 1 25%;text-align:center;font-size:24rpx;">{{item.$orig.count+item.$orig.unit}}</view><view class="ellipsis" style="flex:1 1 25%;text-align:center;font-size:24rpx;">{{item.$orig.price+"元"}}</view><view class="ellipsis" style="flex:1 1 25%;text-align:center;font-size:24rpx;">{{item.$orig.day+"天"}}</view><view class="ellipsis" style="flex:1 1 25%;text-align:center;font-size:24rpx;">{{item.g1/100+"元"}}</view></view></block></block></scroll-view></block><block wx:if="{{(commonWork.length||hourworkList.length)&&showFullDay}}"><view class="flex mt10" style="justify-content:space-between;align-items:center;"><view style="text-align:right;font-size:24rpx;font-weight:500;">满勤天数：<text style="color:#e43d33;font-size:32rpx;">{{fullWorkDay+"天"}}</text></view><view style="text-align:right;font-size:24rpx;font-weight:500;">满勤收入：<text style="color:#e43d33;font-size:32rpx;">{{"¥"+fullWorkSalary+"元"}}</text></view></view></block><block wx:if="{{hourworkList.length||commonWork.length}}"><view class="flex mt10" style="justify-content:space-between;align-items:center;"><view style="text-align:right;font-size:24rpx;font-weight:500;">{{''+(salaryType==2?'总数量':'总工时')+'：'}}<text style="color:#e43d33;font-size:32rpx;">{{totalSum+(salaryType==2?'':'小时')}}</text></view><view style="text-align:right;font-size:24rpx;font-weight:500;">全部总收入：<text style="color:#e43d33;font-size:32rpx;">{{"¥"+totalSalary+"元"}}</text></view></view></block><view class="mt30"><view style="display:inline-block;border-bottom:1px solid #efefef;padding-bottom:8rpx;font-weight:500;font-size:32rpx;">{{'查看日工时统计（'+currentYear+"年"+rangeMonth+'月）'}}</view><block wx:if="{{salaryType===2}}"><view style="font-size:24rpx;background-color:#efefef;color:#5f5f5f;font-weight:300;padding:20rpx 30rpx;border-radius:8rpx;">提示：如果日历中记录有多个计量单位，不区分单位计算总数。</view></block><block wx:if="{{showCanlendar}}"><uni-calendar class="uni-calendar--hook vue-ref" vue-id="54253cea-6" selected="{{info.selected}}" showMonth="{{true}}" date="{{info.date}}" lunar="{{true}}" range="{{info.range}}" startDate="{{info.startDate}}" endDate="{{info.endDate}}" data-ref="calendar" data-event-opts="{{[['^change',[['change']]],['^monthSwitch',[['monthSwitch']]]]}}" bind:change="__e" bind:monthSwitch="__e" bind:__l="__l"></uni-calendar></block></view></view></view></block></view>