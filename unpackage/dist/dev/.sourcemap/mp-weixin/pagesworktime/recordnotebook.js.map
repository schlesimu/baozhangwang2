{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pagesworktime/recordnotebook.vue?15c5","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pagesworktime/recordnotebook.vue?f5d9","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pagesworktime/recordnotebook.vue?e8fc","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pagesworktime/recordnotebook.vue?9d16","uni-app:///pagesworktime/recordnotebook.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,gH,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,uBAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAA2H;AAC3H;AACkE;AACL;;;AAG7D;AAC+L;AAC/L,gBAAgB,wMAAU;AAC1B,EAAE,oFAAM;AACR,EAAE,yFAAM;AACR,EAAE,kGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,6FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACtBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,qMAEN;AACP,KAAK;AACL;AACA,aAAa,yOAEN;AACP,KAAK;AACL;AACA,aAAa,+LAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAA0uB,CAAgB,+vBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC8E9vB,4E;AACA;AACA,MADA,kBACA;AACA;AACA,eADA;AAEA,qBAFA;AAGA,uBAHA;AAIA,kBAJA,EAIA;AACA,oBALA,EAKA;AACA,uBANA,EAMA;AACA,yBAPA,EAOA;AACA,kBARA,EAQA;AACA,kBATA,EASA;AACA,6BAVA,EAUA;AACA,mBAXA,EAWA;AACA,eAZA,EAYA;AACA,eAbA,EAaA;AACA,qBAdA,CAcA;AAdA;AAgBA,GAlBA;AAmBA,QAnBA,kBAmBA,CAnBA,EAmBA;AACA;AACA;AACA;AACA,kBADA;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAlBA;AAmBA,KAtBA,MAsBA;AACA;AACA;AACA;AACA,GApDA;AAqDA,QArDA,oBAqDA;AACA;AACA;AACA,GAxDA;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA;AAEA,yDAFA,EAEA;AACA,oDAHA,EADA;;AAMA;AACA,2BADA;AAEA,0BAFA;AAGA,sBAHA,EANA;;;;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2BA7BA,CA6BA;AACA;AACA;AACA;AACA,OAFA,CADA;;AAKA;AACA;AACA;AACA,OAFA,CADA;;AAKA;;AAEA;AACA;AACA;AACA;;AAEA,0BA/CA,CA+CA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAHA,EAGA,IAHA;AAIA;AACA,OARA;AASA,KAnEA;AAoEA,cApEA,sBAoEA,KApEA,EAoEA;AACA;AACA;AACA;AACA;AACA,KAzEA;AA0EA,aA1EA,qBA0EA,KA1EA,EA0EA;AACA;AACA;AACA;AACA;AACA,KA/EA;AAgFA,eAhFA,uBAgFA,CAhFA,EAgFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzFA;AA0FA,iBA1FA,yBA0FA,CA1FA,EA0FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlGA;AAmGA,aAnGA,qBAmGA,CAnGA,EAmGA;AACA;AACA;AACA;AACA;AACA,UADA,CACA,0BADA,EACA;AACA,mCADA;;;;AAKA,eALA;AAMA,gBANA,EADA;;AASA,UATA,CASA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OAhBA;AAiBA,WAjBA,CAiBA;AACA;AACA,OAnBA;AAoBA,KA3HA;AA4HA,kBA5HA,4BA4HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KAvIA,EAzDA,E","file":"pagesworktime/recordnotebook.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pagesworktime/recordnotebook.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./recordnotebook.vue?vue&type=template&id=8ce05872&\"\nvar renderjs\nimport script from \"./recordnotebook.vue?vue&type=script&lang=js&\"\nexport * from \"./recordnotebook.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesworktime/recordnotebook.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./recordnotebook.vue?vue&type=template&id=8ce05872&\"","var components\ntry {\n  components = {\n    benUpload: function() {\n      return import(\n        /* webpackChunkName: \"components/ben-upload/ben-upload\" */ \"@/components/ben-upload/ben-upload.vue\"\n      )\n    },\n    benVideoUpload: function() {\n      return import(\n        /* webpackChunkName: \"components/ben-video-upload/ben-video-upload\" */ \"@/components/ben-video-upload/ben-video-upload.vue\"\n      )\n    },\n    uniPopup: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-popup/uni-popup\" */ \"@/components/uni-popup/uni-popup.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./recordnotebook.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./recordnotebook.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"padding brt_e\" style=\"height: auto;\" :style=\"{ paddingBottom: paddingBottom }\">\n\t\t<view class=\"grace-body \">\n\t\t\t<form @submit=\"formSubmit\" class=\"grace-form grace-margin-top\">\n\t\t\t\t<view class=\" cu-list menu sm-border margin-lr \">\n\t\t\t\t\t<view class=\"flex align-center justify-between ptb10\">\n\t\t\t\t\t\t<view class=\" flex align-center\" style=\"width: 100%;\">\n\t\t\t\t\t\t\t<text class=\"text-lg flex_shrink padding-right-sm\">\n\t\t\t\t\t\t\t\t<text class=\"text-red  text-xl\">*</text>\n\t\t\t\t\t\t\t\t<text>标题</text>\n\t\t\t\t\t\t\t</text>\n\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\tclass=\"input\"\n\t\t\t\t\t\t\t\tstyle=\"width: 100%;\"\n\t\t\t\t\t\t\t\tname=\"title\"\n\t\t\t\t\t\t\t\tv-model=\"title\"\n\t\t\t\t\t\t\t\tplaceholder=\"请输入标题\"\n\t\t\t\t\t\t\t\t@input=\"checktitle(title)\"\n\t\t\t\t\t\t\t\t@blur=\"titleblur(title)\"\n\t\t\t\t\t\t\t\tplaceholder-style=\"font-size: 28rpx;\"\n\t\t\t\t\t\t\t\t:placeholder-style=\"title ? 'color:#666' : 'color:#BFBFBF'\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"pt10 mt10\">\n\t\t\t\t\t\t<view>\n\t\t\t\t\t\t\t<view class=\"text-lg margin-bottom\">\n\t\t\t\t\t\t\t\t<text class=\"text-red  text-xl\">*</text>\n\t\t\t\t\t\t\t\t内容\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"areabox text-lg bg-f2f3 radius-16 padding\" style=\"height: 379upx;\">\n\t\t\t\t\t\t\t\t<textarea\n\t\t\t\t\t\t\t\t\tname=\"description\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"请输入内容\"\n\t\t\t\t\t\t\t\t\tmaxlength=\"1500\"\n\t\t\t\t\t\t\t\t\tstyle=\"width: 100%;height: 300upx;line-height: 1.5\"\n\t\t\t\t\t\t\t\t\t:style=\"description ? 'color:#333;font-weight:bold' : 'color:#999'\"\n\t\t\t\t\t\t\t\t\tv-model=\"description\"\n\t\t\t\t\t\t\t\t\tplaceholder-style=\"font-size:32upx;color:#999\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<view class=\"text-gray txtnum\" :class=\"description && description.length == 1500 ? 'text-red' : 'text-gray'\">\n\t\t\t\t\t\t\t\t\t{{ (description && description.length) || 0 }}/1500\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"pt10 mt10\">\n\t\t\t\t\t\t<view @tap.stop=\"wechatLocation\">\n\t\t\t\t\t\t\t<view class=\"text-lg margin-bottom\">\n\t\t\t\t\t\t\t\t<text class=\"text-red  text-xl\">*</text>\n\t\t\t\t\t\t\t\t地址\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"lg cuIcon-locationfill flex justify-start align-center\">\n\t\t\t\t\t\t\t\t<input class=\"ml10 text-gray\" disabled style=\"width: 100%;\" name=\"address\" v-model=\"address\" />\n\t\t\t\t\t\t\t\t<input disabled style=\"width: 0; height: 0;\" name=\"city_id\" v-model=\"city_id\" />\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"bg-white margin-top margin-lr padding-bottom-sm\"><view class=\" text-333 text-bold\" style=\"letter-spacing: 2upx;\">图片</view></view>\n\t\t\t\t<ben-upload v-if=\"defaultpic\" :col=\"4\" :max=\"9\" @change=\"infoImgLive\" :defaultList=\"infoImgs\" :uShow=\"uShow\"></ben-upload>\n\t\t\t\t<view class=\"bg-white margin-top margin-lr padding-bottom-sm\"><view class=\" text-333 text-bold\" style=\"letter-spacing: 2upx;\">视频</view></view>\n\t\t\t\t<view style=\"padding-bottom: 200upx;\">\n\t\t\t\t\t<ben-video-upload v-if=\"defaultVideo\" :col=\"4\" :max=\"1\" @change=\"infoVideoLive\" :defaultList=\"infoVideos\" :uShow=\"vShow\"></ben-video-upload>\n\t\t\t\t</view>\n\t\t\t\t<!-- calc(100%-343)/2; -->\n\t\t\t\t<view class=\"fixed\" style=\"width: 100%; bottom: 0; left: 0; z-index: 19841004; background-color: #FFFFFF; padding: 30upx 0;\">\n\t\t\t\t\t<button class=\"btn_next round \" style=\"margin: 0 auto; margin-bottom: 20upx;margin-top: 30upx;\" form-type=\"submit\">保存</button>\n\t\t\t\t</view>\n\t\t\t</form>\n\t\t</view>\n\n\t\t<uni-popup type=\"center\" ref=\"tips\"></uni-popup>\n\t</view>\n</template>\n\n<script>\nconst Checker = require('@/common/js/formValidation.js');\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\ttitle: '',\n\t\t\tdescription: '',\n\t\t\taddress: '请选择您位置',\n\t\t\tinfoImgs: [], // 记事图片列表\n\t\t\tinfoVideos: [], // 记事本视频\n\t\t\tdefaultpic: false, // 是否展示图片\n\t\t\tdefaultVideo: false, // 是否展示视频\n\t\t\tuShow: false, // 图片上传成功在展示\n\t\t\tvShow: false, // 视频上传成功在展示\n\t\t\tpaddingBottom: '400upx', // 底部内边距\n\t\t\tcity_id: null, // 城市id\n\t\t\tlon: null, // 经度\n\t\t\tlat: null, // 纬度\n\t\t\tcategory_id: 12, // 记事本栏目\n\t\t};\n\t},\n\tonLoad(e) {\n\t\tconsole.error(e);\n\t\tlet that = this;\n\t\tuni.setNavigationBarTitle({\n\t\t\ttitle: '记事本'\n\t\t});\n\n\t\tif (e.id) {\n\t\t\tthis.infoId = e.id;\n\t\t\tlet infouri = this.$api.user.user_inform_get + '?id=' + e.id;\n\t\t\tthis.$Request.get(infouri).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthat.defaultpic = true;\n\t\t\t\tthat.defaultVideo = true;\n\t\t\t\tif (res.code == 1) {\n\t\t\t\t\tthat.category_id = res.data.category_id;\n\t\t\t\t\tthat.title = res.data.title;\n\t\t\t\t\tthat.description = res.data.body;\n\t\t\t\t\tthat.city_id = res.data.city_id;\n\t\t\t\t\tthat.address = res.data.address;\n\t\t\t\t\tthat.lon = res.data.lon;\n\t\t\t\t\tthat.lat = res.data.lat;\n\t\t\t\t\tthat.infoImgs = res.data.info_imgs;\n\t\t\t\t\tthat.infoVideos = res.data.info_videos;\n\n\t\t\t\t\tif (that.infoImgs && that.infoImgs.length > 0) that.uShow = true;\n\t\t\t\t\tif (that.infoVideos && that.infoVideos.length > 0) that.vShow = true;\n\t\t\t\t}\n\t\t\t});\n\t\t} else {\n\t\t\tthis.defaultpic = true;\n\t\t\tthis.defaultVideo = true;\n\t\t}\n\t},\n\tonShow() {\n\t\tthis.defaultpic = true;\n\t\tthis.defaultVideo = true;\n\t},\n\tmethods: {\n\t\tformSubmit: function(e) {\n\t\t\t// console.log(e.detail.value);\n\t\t\tlet that = this;\n\t\t\t//定义表单规则\n\t\t\tlet rule = [\n\t\t\t\t{\n\t\t\t\t\tname: 'title',\n\t\t\t\t\trule: ['required', 'minLength:2', 'maxLength:30'], //可使用区间，此处主要测试功能\n\t\t\t\t\tmsg: ['请输入标题', '标题必须2个或以上字符', '标题不能超过30个字符']\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tname: 'description',\n\t\t\t\t\trule: ['required'],\n\t\t\t\t\tmsg: ['请输入内容']\n\t\t\t\t}\n\t\t\t];\n\n\t\t\t//进行表单检查\n\t\t\tlet formData = e.detail.value;\n\t\t\t// 编辑的情况，需要带上id\n\t\t\tif (this.infoId) formData.id = this.infoId;\n\t\t\tformData.category_id = this.category_id;\n\t\t\tlet checkRes = Checker.validation(formData, rule);\n\t\t\tif (checkRes) {\n\t\t\t\tthis.$Common.toast(checkRes);\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tlet info_photos = [];\n\t\t\tlet info_videos = []; //发布信息照片\n\t\t\tthis.infoImgs &&\n\t\t\t\tthis.infoImgs.map(item => {\n\t\t\t\t\tinfo_photos.push(item.aid);\n\t\t\t\t});\n\n\t\t\tthis.infoVideos &&\n\t\t\t\tthis.infoVideos.map(item => {\n\t\t\t\t\tinfo_videos.push(item.aid);\n\t\t\t\t});\n\n\t\t\tconsole.log(this.infoVideos);\n\n\t\t\t// 将图片id赋值给提交对象\n\t\t\tformData.img_url = info_photos.join(',');\n\t\t\t// 视频地址\n\t\t\tformData.video_url = info_videos.join(',');\n\n\t\t\tformData.source = 2; // 1是系统2小程序\n\n\t\t\t// 经纬度\n\t\t\tformData.lon = this.lon;\n\t\t\tformData.lat = this.lat;\n\n\t\t\t// 提交记事\n\t\t\tlet apiuri = this.$api.user.user_info_submit;\n\n\t\t\t// 验证成功，提交用户发布信息\n\t\t\tthis.$Request.post(apiuri, formData).then(res => {\n\t\t\t\tthis.$Common.toast(res.msg);\n\t\t\t\tif (res.code == 1) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tuni.navigateBack();\n\t\t\t\t\t\tuni.$emit('reback', 'recordnotebook');\n\t\t\t\t\t}, 1000);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tchecktitle(title) {\n\t\t\t//验证标题长度\n\t\t\tif (title.length > 30) {\n\t\t\t\tthis.$Common.toast('标题不能超过30个字符');\n\t\t\t}\n\t\t},\n\t\ttitleblur(title) {\n\t\t\t//标题输入失去焦点\n\t\t\tif (title.length < 2) {\n\t\t\t\tthis.$Common.toast('内容不能少于2个字符');\n\t\t\t}\n\t\t},\n\t\tinfoImgLive(e) {\n\t\t\tthis.defaultpic = true;\n\t\t\t// 上传信息图片\n\t\t\tconsole.log(e);\n\t\t\tthis.infoImgs = e;\n\t\t\tif (e != '') {\n\t\t\t\tthis.uShow = true;\n\t\t\t\t// uni.hideLoading()\n\t\t\t}\n\t\t},\n\t\tinfoVideoLive(e) {\n\t\t\tthis.defaultVideo = true;\n\t\t\t// 上传信息视频\n\t\t\tconsole.log(e);\n\t\t\tthis.infoVideos = e;\n\t\t\tif (e != '') {\n\t\t\t\tthis.vShow = true;\n\t\t\t}\n\t\t},\n\t\tgetCityId(e) {\n\t\t\tlet that = this;\n\t\t\t//获取经纬度\n\t\t\tlet lat = [e.longitude, e.latitude];\n\t\t\tthis.$Request\n\t\t\t\t.post(this.$api.msg.cityPosition, {\n\t\t\t\t\tuser_id: this.user_id || '',\n\t\t\t\t\t// #ifdef APP-PLUS\n\t\t\t\t\tclient_id: plus.device.uuid,\n\t\t\t\t\t// #endif\n\t\t\t\t\tcid: '',\n\t\t\t\t\tlat: lat\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\t// console.log(res, '地址2')\n\t\t\t\t\tif (res.code == 1) {\n\t\t\t\t\t\tthat.city_id = res.data.id;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthat.$Common.toast('无法定位，请打开手机定位！！');\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tthat.$Common.toast('无法定位，请打开手机定位！！');\n\t\t\t\t});\n\t\t},\n\t\twechatLocation() {\n\t\t\tlet that = this;\n\t\t\tthis.$util.chooseLocation(this, function(location) {\n\t\t\t\t// 在onShow生命周期函数里会执行一次解析定位地址，因此此处需要重新赋值一下全局定位地址变量\n\t\t\t\tthat.lon = location.longitude;\n\t\t\t\tthat.lat = location.latitude;\n\t\t\t\t// that.$util.updateLocation([location.longitude, location.latitude], that);\n\t\t\t\tthat.address = location.address;\n\t\t\t\t// console.log(location);\n\t\t\t\tthat.getCityId({ longitude: location.longitude, latitude: location.latitude });\n\t\t\t});\n\t\t},\n\t}\n};\n</script>\n\n<style></style>\n"],"sourceRoot":""}