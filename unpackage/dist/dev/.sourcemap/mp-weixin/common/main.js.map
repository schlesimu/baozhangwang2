{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/App.vue?fb41","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/App.vue?7e2f","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pages/tabbar/worktimeindex.vue?0258","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pages/tabbar/worktimeindex.vue?18a5","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pages/tabbar/worktimeindex.vue?cfa6","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pages/tabbar/worktimeindex.vue?8060","uni-app:///pages/tabbar/worktimeindex.vue",null,"webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pages/tabbar/worktimeindex.vue?35bf","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/pages/tabbar/worktimeindex.vue?e0af","webpack:///C:/Users/schlesimu/Desktop/baozhangwang-master/App.vue?0838","uni-app:///App.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","use","JjimWidget","uView","VueI18n","component","homepage","message","worktime","user","homepageTwo","zhaopinzhe","plantList","serviceBroker","MescrollBody","MescrollUni","cuCustom","config","productionTip","currentVersion","id","version","i18n","locale","messages","prototype","$api","httpApi","$Request","HttpRequest","$Config","$Cache","HttpCache","$mRouter","$mRoutesConfig","$Lbframe","lbframe","$Common","common","$current","$util","util","App","mpType","beforeEach","navType","to","route","undefined","JSON","stringify","requiresAuth","userInfo","uni","getStorageSync","userToken","user_token","url","objParseUrlAndParam","path","query","redirectUrl","navigateTo","login","onNetworkStatusChange","res","isConnected","showToast","title","icon","app","IMG_URL","BASEURL","click","mixin","data","methods","navTo","setTimeout","head_img","src","indexOf","filters","card_img","sub_str","name","toString","length","substr","$mount"],"mappings":"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ACA,KAHA;AAIA;AACA;AACA;AACA;AACA,KAHA;;AAKA;AACA;AACA;AACA,KAHA;AAIA,GA/PA;AAgQA;AACA;;;;AAIA,8BALA,CAKA;AACA;AACA;AACA;AACA,KAFA,EAEA,GAFA;AAGA;AACA,GA3QA;AA4QA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA,KAFA;AAGA;;AAEA,KAFA,MAEA;AACA;AACA;AACA;AACA;AACA,KAFA;AAGA,GA9RA;AA+RA;AACA,oBADA,8BACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sFAFA;;;;;;;;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BADA;AAEA,+CAFA;;AAIA,WALA,EAKA,KALA;AAMA,SArBA;AAsBA;AACA;;AAEA,SAHA;AAIA;AACA;AACA;AACA,uCAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAFA,EAEA,GAFA;AAGA;AACA,6CANA,CAMA;AACA;AACA,+DADA,CACA;AACA;AACA;AACA,0CAFA,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAlDA;AAmDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SANA;AAOA;AACA,KAxGA;AAyGA,qBAzGA,6BAyGA,GAzGA,EAyGA;AACA;AACA;AACA,iBADA;AAEA,yCAFA;;AAIA,KA/GA;AAgHA;AACA;AACA;AACA,iBADA;AAEA,UAFA,CAEA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,sBAFA;;AAIA;AACA;AACA,uCADA;;AAGA;AACA;AACA,OAhBA;AAiBA,KAnIA,EA/RA,E","file":"common/main.js","sourcesContent":["import 'uni-pages';\r\n// @ts-ignore\r\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;import Vue from 'vue'\r\nimport App from './App'\r\nimport httpApi from './common/httpLbApi'\r\nimport HttpRequest from './common/httpRequest'\r\nimport HttpCache from './common/cache'\r\nimport VueI18n from 'vue-i18n';\r\nimport $mRouter from './common/router'\r\nimport $mRoutesConfig from './common/routes.config'\r\nimport lbframe from './common/lbframe'\r\nimport common from './common/common'\r\nimport util from './common/util'\r\nimport {\r\n\tJjimWidget\r\n} from './js_sdk/jiguang_jim.js'\r\nVue.use(new JjimWidget());\r\nimport \"@/common/filter.js\";\r\nimport uView from \"uview-ui\";\r\nVue.use(uView);\r\nVue.use(VueI18n);\r\n\r\nimport homepage from 'pages/tabbar/homepage.vue'\r\nVue.component('homepage', homepage)\r\n\r\nimport message from 'pages/tabbar/message.vue'\r\nVue.component('message', message)\r\n\r\n// 首页记工时模块\r\nimport worktime from 'pages/tabbar/worktimeindex.vue'\r\nVue.component('worktime', worktime)\r\n\r\nimport user from 'pages/tabbar/user.vue'\r\nVue.component('user', user)\r\n\r\nimport homepageTwo from 'pages/tabbar/homepageTwo.vue'\r\nVue.component('homepageTwo', homepageTwo)\r\n\r\nimport zhaopinzhe from '@/pages/tabbar/zhaopinzhe.vue'\r\nVue.component('zhaopinzhe', zhaopinzhe)\r\n// 职位列表\r\nimport plantList from '@/components/plantList.vue'\r\nVue.component('plantList', plantList)\r\n// // 全国服务经纪人\r\nimport serviceBroker from '@/components/serviceBroker.vue'\r\nVue.component('serviceBroker', serviceBroker)\r\n// // 兼职任务\r\n// import partList from '@/components/partList.vue'\r\n// Vue.component('partList', partList)\r\n// // 资讯头条\r\n// import convenience from '@/components/convenience.vue'\r\n// Vue.component('convenience', convenience)\r\n\r\n\r\nimport MescrollBody from \"@/components/mescroll-uni/mescroll-body.vue\"\r\nimport MescrollUni from \"@/components/mescroll-uni/mescroll-uni.vue\"\r\nVue.component('mescroll-body', MescrollBody)\r\nVue.component('mescroll-uni', MescrollUni)\r\nimport cuCustom from './colorui/components/cu-custom.vue'\r\nVue.component('cu-custom', cuCustom)\r\nVue.config.productionTip = false\r\nconst currentVersion = {\r\n\tid: 100, //APP版本号，每次更新需要更改\r\n\tversion: '1.0.0'\r\n}\r\nconst i18n = new VueI18n({\r\n\tlocale:'zh-Hans',\r\n\tmessages: {\r\n\t\t'ch': '', // 中文语言包\r\n\t\t'en': '' // 英文语言包\r\n\t}\r\n})\r\n\r\nVue.prototype.$api = httpApi\r\nVue.prototype.$Request = HttpRequest\r\nVue.prototype.$Config = HttpRequest.config\r\nVue.prototype.$Cache = HttpCache\r\nVue.prototype.$mRouter = $mRouter;\r\nVue.prototype.$mRoutesConfig = $mRoutesConfig;\r\nVue.prototype.$Lbframe = lbframe\r\nVue.prototype.$Common = common\r\nVue.prototype.$current = currentVersion\r\nVue.prototype.$util = util; // 引入帮助函数\r\nApp.mpType = 'app'\r\n\r\n$mRouter.beforeEach((navType, to) => {\r\n\tif (to.route === undefined) throw (\"路由钩子函数中没有找到to.route对象，路由信息:\" + JSON.stringify(to));\r\n\r\n\t// 过滤需要权限的页面\r\n\tif (to.route.requiresAuth) {\r\n\t\tconst userInfo = uni.getStorageSync('USERINFO');\r\n\t\tlet userToken = userInfo.user_token\r\n\t\tif (userToken) {\r\n\t\t\t// 已经登录\r\n\t\t\tuni[navType]({\r\n\t\t\t\turl: lbframe.objParseUrlAndParam(to.route.path, to.query)\r\n\t\t\t})\r\n\t\t} else {\r\n\t\t\t// 登录成功后的重定向地址和参数\r\n\t\t\tlet query = {\r\n\t\t\t\tredirectUrl: to.route.path,\r\n\t\t\t\t...to.query\r\n\t\t\t}\r\n\t\t\t// 没有登录 是否强制登录?\r\n\t\t\tif (false) {\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: lbframe.objParseUrlAndParam($mRoutesConfig.login.path, query)\r\n\t\t\t\t})\r\n\t\t\t} else {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: lbframe.objParseUrlAndParam($mRoutesConfig.login.path, query)\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tuni[navType]({\r\n\t\t\turl: lbframe.objParseUrlAndParam(to.route.path, to.query)\r\n\t\t})\r\n\t}\r\n})\r\n\r\nuni.onNetworkStatusChange(function(res) {\r\n\t// console.log(res,'监听网络状态');\r\n\tif (!res.isConnected) {\r\n\t\tuni.showToast({\r\n\t\t\ttitle: \"网络信号弱，请检查您的网络状态……\",\r\n\t\t\ticon: 'none'\r\n\t\t});\r\n\t\treturn;\r\n\t}else{\r\n\t\t// uni.$emit('appLoginSuccess',{});\r\n\t}\r\n});\r\nconst app = new Vue({\r\n\t...App\r\n})\r\nVue.prototype.IMG_URL = HttpRequest.config('DOMAIN');\r\nVue.prototype.BASEURL = HttpRequest.config('BASEURL');\r\nconst IMG_URL = HttpRequest.config('DOMAIN');\r\nvar click = false;\r\n/* 全局混入 start */\r\nVue.mixin({\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tIMG_URL\r\n\t\t};\r\n\t},\r\n\tmethods: {\r\n\t\tnavTo(url) {\r\n\t\t\tif (click) return;\r\n\t\t\tclick = true;\r\n\t\t\tuni.navigateTo({\r\n\t\t\t\turl\r\n\t\t\t});\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tclick = false;\r\n\t\t\t}, 200)\r\n\t\t},\r\n\t\thead_img(src) {\r\n\t\t\treturn src.indexOf('http') == -1 ? IMG_URL + src : src;\r\n\t\t},\r\n\t},\r\n\tfilters: {\r\n\t\tcard_img(src) {\r\n\t\t\tif (src == '../../static/user/card2.png' || src == '../../static/user/card1.png') return src;\r\n\t\t\tif (src == '../../static/user/card3.png' || src == '../../static/user/up.png') return src;\r\n\t\t\treturn src.indexOf('/static') == 0 ? IMG_URL + src : src;\r\n\t\t},\r\n\t\thead_img(src) {\r\n\t\t\treturn src.indexOf('http') == -1 ? IMG_URL + src : src;\r\n\t\t},\r\n\t\tsub_str(name) {\r\n\t\t\tname = name.toString();\r\n\t\t\treturn name.length > 12 ? name.substr(0, 12) + '...' : name;\r\n\t\t}\r\n\t},\r\n});\r\n/* 全局混入 end */\r\n\r\napp.$mount()","import mod from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1668579586807\n      var cssReload = require(\"D:/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import { render, staticRenderFns, recyclableRender, components } from \"./worktimeindex.vue?vue&type=template&id=0d9ed688&\"\nvar renderjs\nimport script from \"./worktimeindex.vue?vue&type=script&lang=js&\"\nexport * from \"./worktimeindex.vue?vue&type=script&lang=js&\"\nimport style0 from \"./worktimeindex.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/tabbar/worktimeindex.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./worktimeindex.vue?vue&type=template&id=0d9ed688&\"","var components\ntry {\n  components = {\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    },\n    notebooklist: function() {\n      return import(\n        /* webpackChunkName: \"components/notebooklist/notebooklist\" */ \"@/components/notebooklist/notebooklist.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event, index) {\n      var _temp = arguments[arguments.length - 1].currentTarget.dataset,\n        _temp2 = _temp.eventParams || _temp[\"event-params\"],\n        index = _temp2.index\n\n      var _temp, _temp2\n\n      _vm.currentTab = index\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./worktimeindex.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./worktimeindex.vue?vue&type=script&lang=js&\"","<template>\n\t<!-- #ifdef MP-WEIXIN -->\n\t<scroll-view scroll-y style=\"padding-bottom: 300rpx;background-color: #F6F7F9;\">\n\t\t<!-- #endif -->\n\t\t<view style=\"height: 100vh; line-height: 100vh; font-weight: 300; font-size: 24upx; text-align: center;\" v-if=\"showLoading\">数据加载中...</view>\n\t\t<view class=\"my\" style=\"height: 100%;\" v-if=\"!showLoading\">\n\t\t\t<view class=\"worktime-top-section\" style=\"margin-bottom: 60upx;\">\n\t\t\t\t<view class=\"bg_color\" style=\"background: linear-gradient(90deg,rgba(51,143,255,1) 0%,rgba(62,149,255,1) 100%);width: 100%;height: 417rpx;\">\n\t\t\t\t\t<image :src=\"IMG_URL + 'static/miniwechat/my1.png'\" mode=\"aspectFill\"></image>\n\t\t\t\t</view>\n\t\t\t\t<view v-if=\"userinfo.id > 0\" style=\"position: relative;z-index: 100;\" :style=\"{ paddingTop: StatusBar * 2 + 80 + 'rpx' }\">\n\t\t\t\t\t<view class=\"userInfo\">\n\t\t\t\t\t\t<view class=\"tui-msg-box\">\n\t\t\t\t\t\t\t<view @tap=\"toPage('/pagesauthen/my_editInfo')\" class=\"flex  align-center\" style=\"width: 100%;\">\n\t\t\t\t\t\t\t\t<view class=\"bg-gray mr10\" style=\"width:160upx;height: 160upx; border-radius: 50%;overflow: hidden;flex-shrink: 0;\">\n\t\t\t\t\t\t\t\t\t<image :src=\"user.head_img || '/static/images/logo.png'\" class=\"tui-msg-pic\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"tui-msg-item\">\n\t\t\t\t\t\t\t\t\t<view class=\" text-white text-bold mb5 f40 text_line1\">{{ user.user_name || '昵称' }}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"up_margin\">\n\t\t\t\t\t<view class=\"margin-lr ptb10 bg-white margin-top-sm radius-16\">\n\t\t\t\t\t\t<view class=\"margin-top-lg flex justify-between worktime-tab\">\n\t\t\t\t\t\t\t<view\n\t\t\t\t\t\t\t\tclass=\"text-center worktime-tab-item\"\n\t\t\t\t\t\t\t\t:class=\"currentTab === index ? 'current-tab' : ''\"\n\t\t\t\t\t\t\t\tv-for=\"(item, index) in tabList\"\n\t\t\t\t\t\t\t\t:key=\"item.index\"\n\t\t\t\t\t\t\t\t@click=\"currentTab = index\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<view class=\"text-333 f32 current-tab-font\">{{ item.title }}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\r\n\t\t\t\t<!-- 记工时 <view\r\n\t\t\t\t\tstyle=\"width: 128upx; height: 128upx; background-color: #007AFF; border-radius: 50%; box-shadow: 0 2px 10px 2px rgba(0,0,0,0.4); text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;\"\r\n\t\t\t\t\t@click=\"toPage(worktimerecord + '?type=' + currentTab)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<i class=\"text-df cuIcon-add bold\" style=\"color: #FFFFFF; font-size: 48upx;\"></i>\r\n\t\t\t\t\t<text style=\"color: #FFFFFF; font-size: 26upx;\">记工时</text>\r\n\t\t\t\t</view>-->\n\t\t\t</view>\n\t\t\t<!-- 小时工/正式工当前收入总计 -->\n\t\t\t<view class=\"path_list margin-top\" style=\"margin-bottom: 60upx;\" v-if=\"currentTab === 0 || currentTab === 1\">\n\t\t\t\t<view class=\" color-gray radius\">\n\t\t\t\t\t<view class=\"padding-xl\">\n\t\t\t\t\t\t<view class=\"flex justify-start align-center margin-bottom-xl\" style=\"flex-direction: column;\">\n\t\t\t\t\t\t\t<view class=\"flex justify-around align-center\" style=\"width: 100%;\">\n\t\t\t\t\t\t\t\t<view class=\"f64 bold\" style=\"flex: 1 1 50%; text-align: center; color: #f3a73f;\">{{ workcount }}</view>\n\t\t\t\t\t\t\t\t<view class=\"f64 bold\" style=\"flex: 1 1 50%; text-align: center; color: #f3a73f;\">{{ worksalary }}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"flex justify-around align-center margin-top-xs\" style=\"width: 100%;\">\n\t\t\t\t\t\t\t\t<view class=\"bold\" style=\"flex: 1 1 50%; text-align: center;\">{{ currentHourStr }}</view>\n\t\t\t\t\t\t\t\t<view class=\"bold\" style=\"flex: 1 1 50%; text-align: center;\">{{ currentSalaryStr }}</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<view class=\"flex justify-around align-center\" style=\"font-weight: 300; border-top: 1px dashed #efefef;  padding-top: 10upx;\">\n\t\t\t\t\t\t\t<view style=\"flex: 1 1 50%;\" @click=\"toPage(currentSalarySettingRoute + '?type=' + currentTab)\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"gear\" size=\"16\" color=\"#ccc;\"></uni-icons>\n\t\t\t\t\t\t\t\t<text style=\"margin-left: 8upx;\">工资设置</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view style=\"flex: 1 1 50%; text-align: right;\" @click=\"toPage(currentStatisticsRoute + '?type=' + currentTab)\">\n\t\t\t\t\t\t\t\t<uni-icons type=\"paperplane\" size=\"16\" color=\"#ccc;\"></uni-icons>\n\t\t\t\t\t\t\t\t<text style=\"margin-left: 8upx;\">统计</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\r\n\t\t\t\t<view\r\n\t\t\t\t\tstyle=\"width: 640upx; height: 80upx; background-color: #007AFF; border-radius: 10px; box-shadow: 0 2px 10px 2px rgba(0,0,0,0.4); text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;\"\r\n\t\t\t\t\t@click=\"toPage(worktimerecord + '?type=' + currentTab)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<i class=\"text-df cuIcon-add bold\" style=\"color: #FFFFFF; font-size: 48upx;\"></i>\r\n\t\t\t\t\t<text style=\"color: #FFFFFF; font-size: 26upx;\">记工时</text>\r\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t\t<!-- 计件工当前收入总计 -->\n\t\t\t<view v-if=\"currentTab === 2\" style=\"margin-bottom: 60upx;\">\n\t\t\t\t<view class=\"path_list margin-top\" style=\"margin-bottom: 0;\">\n\t\t\t\t\t<view class=\"color-gray radius\">\n\t\t\t\t\t\t<view class=\"padding-xl\">\n\t\t\t\t\t\t\t<view class=\"flex justify-start align-center margin-bottom-sm\" style=\"flex-direction: column;\">\n\t\t\t\t\t\t\t\t<view class=\"flex justify-around align-center\" style=\"width: 100%;\">\n\t\t\t\t\t\t\t\t\t<view class=\"f64 bold\" style=\"flex: 1 1 50%; text-align: center; color: #f3a73f;\">{{ workcount }}</view>\n\t\t\t\t\t\t\t\t\t<view class=\"f64 bold\" style=\"flex: 1 1 50%; text-align: center; color: #f3a73f;\">{{ worksalary }}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view class=\"flex justify-around align-center margin-top-xs\" style=\"width: 100%;\">\n\t\t\t\t\t\t\t\t\t<view class=\"bold\" style=\"flex: 1 1 50%; text-align: center;\">{{ currentUnitStr }}<text v-if=\"countUnit\">({{ countUnit }})</text></view>\n\t\t\t\t\t\t\t\t\t<view class=\"bold\" style=\"flex: 1 1 50%; text-align: center;\">{{ currentSalaryStr }}</view>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t<view style=\"font-size: 24upx; background-color:#efefef; color: #5f5f5f; font-weight: 300; padding: 20upx 30upx; border-radius: 8upx; margin: 0 0 30upx;\">提示：如果当前考勤周期有多个计量单位，不区分单位计算总数。</view>\n\n\t\t\t\t\t\t\t<view class=\"flex justify-around align-center\" style=\"font-weight: 300; border-top: 1px dashed #efefef;  padding-top: 10upx;\">\n\t\t\t\t\t\t\t\t<view style=\"flex: 1 1 50%;\" @click=\"toPage(currentSalarySettingRoute + '?type=' + currentTab)\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"gear\" size=\"16\" color=\"#ccc;\"></uni-icons>\n\t\t\t\t\t\t\t\t\t<text style=\"margin-left: 8upx;\">工资设置</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t\t<view style=\"flex: 1 1 50%; text-align: right;\" @click=\"toPage(currentStatisticsRoute + '?type=' + currentTab)\">\n\t\t\t\t\t\t\t\t\t<uni-icons type=\"paperplane\" size=\"16\" color=\"#ccc;\"></uni-icons>\n\t\t\t\t\t\t\t\t\t<text style=\"margin-left: 8upx;\">统计</text>\n\t\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view\r\n\t\t\t\t\t\tstyle=\"width: 640upx; height: 80upx; background-color: #007AFF; border-radius: 10px; box-shadow: 0 2px 2px 2px rgba(0,0,0,0.2); text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;\"\r\n\t\t\t\t\t\t@click=\"toPage(worktimerecord + '?type=' + currentTab)\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<i class=\"text-df cuIcon-add bold\" style=\"color: #FFFFFF; font-size: 48upx;\"></i>\r\n\t\t\t\t\t\t<text style=\"color: #FFFFFF; font-size: 26upx;\">记工时</text>\r\n\t\t\t\t\t</view>\n\t\t\t\t</view>\r\n\t\t\t\t\n\t\t\t</view>\n\n\t\t\t<!-- 记事本列表 -->\n\t\t\t<view style=\"width: 686upx; padding: 30upx; margin: 0 auto; background-color: #FFFFFF;border-radius: 16upx;\">\n\t\t\t\t<view style=\"border-left: 8upx solid #007AFF;padding-left: 10upx;margin-bottom: 10upx;\">记事本</view>\n\t\t\t\t<notebooklist ref=\"record\"></notebooklist>\r\n\t\t\t\t<view\r\n\t\t\t\t\tstyle=\"width: 640upx; height: 80upx; background-color: #f3a73f; border-radius: 10px; box-shadow: 0 2px 2px 2px rgba(0,0,0,0.2); text-align: center; display: flex; flex-direction: column; justify-content: center; align-items: center;\"\r\n\t\t\t\t\t@click=\"toPage(recordnotebook)\"\r\n\t\t\t\t>\r\n\t\t\t\t\t<!-- 记事本列表 <i class=\"text-df cuIcon-edit bold\" style=\"color: #FFFFFF; font-size: 48upx;\"></i>\r\n\t\t\t\t\t--><text style=\"color: #FFFFFF; font-size: 26upx;\">新建</text>\r\n\t\t\t\t</view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<view style=\"width: 60%; height: 128upx; display: flex; justify-content: space-around; align-items: center; position: fixed; left: 20%; bottom: 150upx; z-index: 20190118;\">\n\t\t\t\n\t\t\t\n\t\t</view>\n\t\t<!-- #ifdef MP-WEIXIN -->\n\t</scroll-view>\n\t<!-- #endif -->\n</template>\n<script>\nexport default {\n\tdata() {\n\t\treturn {\n\t\t\tuser: {\n\t\t\t\tid: 1\n\t\t\t}, //用户信息\n\t\t\timg: this.IMG_URL + 'static/miniwechat/logo.png',\n\t\t\tIMG_URL: this.IMG_URL,\n\t\t\tisopen: true,\n\t\t\tuserinfo: uni.getStorageSync('USERINFO'), //缓存的用户信息\n\t\t\tStatusBar: this.StatusBar,\n\t\t\ttabList: [\n\t\t\t\t{\n\t\t\t\t\tindex: 1,\n\t\t\t\t\ttitle: '小时工'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tindex: 2,\n\t\t\t\t\ttitle: '正式工'\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tindex: 3,\n\t\t\t\t\ttitle: '计件工'\n\t\t\t\t}\n\t\t\t],\n\t\t\tcurrentTab: -1,\n\t\t\tcurrentHourStr: '当月工时(小时)',\n\t\t\tcurrentSalaryStr: '当前收入(元)',\n\t\t\tcurrentSalarySettingRoute: '/pagesworktime/salarysettings',\n\t\t\tcurrentStatisticsRoute: '/pagesworktime/worktimestatistics',\n\t\t\trecordnotebook: '/pagesworktime/recordnotebook',\n\t\t\tworktimerecord: '/pagesworktime/worktimerecord',\n\t\t\tcurrentUnitStr: '当月数量',\n\t\t\tshowLoading: true,\n\t\t\tworkcount: 0, // 工时或者件数\n\t\t\tworksalary: 0, // 总收入\n\t\t\tcountUnit: '' // 单位\n\t\t};\n\t},\n\twatch: {\n\t\tcurrentTab(current) {\n\t\t\t// console.error(current);\n\t\t\tthis.requestData();\n\t\t}\n\t},\n\tbeforeCreate() {\n\t\t// 解析vue生命周期\n\t\t// https://blog.csdn.net/hkduan/article/details/115822619\n\t\t// https://blog.csdn.net/m0_70477767/article/details/124684195\n\t\t// 调用之前，做事件和生命周期函数初始化\n\t},\n\tcreated: function() {\n\t\t// 调用之前，做inject/provide初始化以及响应式数据、方法准备\n\t\t\n\t\tlet tab = uni.getStorageSync('history_page');\n\t\tconsole.error(tab);\n\t\tthis.currentTab = tab !== '' ? tab : 1; // 默认选中正式工，如果缓存有上次页面使用上次页面\n\t\tuni.removeStorageSync('history_page');\n\t\t//这是要刷新的数据\n\t\t//console.error(this.userinfo);\n\t\tif (this.userinfo.user_token) {\n\t\t\tthis.get_usrInfo();\n\t\t}\n\t},\n\tbeforeMount() {\n\t\t// 调用之前做模板解析\n\t\t// console.error('beforeMount');\n\t},\n\tmounted() {\n\t\t// 渲染后的dom挂在完毕\n\t\t// console.error('mounted');\n\t},\n\tbeforeUpdate(e,v) {\n\t\t// 数据更新前\n\t\t// console.error('beforeUpdate');\n\t\t// 此处不off的话会请求n多次接口，且次数是不断累加的\n\t\tuni.$off();\n\t},\n\tupdated() {\n\t\t// 数据更新完毕\n\t\t// navigateTo会执行\n\t\t// console.error('updated');\n\t\tuni.$on('change', data => {\n\t\t\tconsole.log(data);\n\t\t\tif (data.msg == 1) {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tthis.get_usrInfo();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t\tuni.$on('wechatLogin', () => {\n\t\t\t//监听微信登录成功\n\t\t\t// console.log('微信登录  个人中心');\n\t\t\tthis.get_usrInfo();\n\t\t});\n\t\t// 在记录工时返回后刷新数据\n\t\tuni.$on('update', () => {\n\t\t\tthis.requestData();\n\t\t});\n\t\t// 从统计页面返回，因为在统计页面可能会编辑或者新增记录\n\t\tuni.$on('updateOn', () => {\n\t\t\tthis.requestData();\n\t\t});\n\t\t// 更新配置返回\n\t\tuni.$on('updateSetting', () => {\n\t\t\tthis.requestData();\n\t\t});\n\t},\n\tbeforeDestroy() {\n\t\t// switchTab会执行\n\t\tuni.$off();\n\t\tuni.setStorageSync('history_page', this.currentTab);\n\t\tconsole.error('beforeDestroy...');\n\t},\n\tdestroyed() {\n\t\tconsole.error('destroing...');\n\t},\n\tmethods: {\n\t\tget_usrInfo() {\n\t\t\t//获取用户信息\n\t\t\tthis.$Request\n\t\t\t\t.post(this.$api.user.get_user_info, {\n\t\t\t\t\tuser_id: this.userinfo.id\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\tthis.user = res.data;\n\t\t\t\t});\n\t\t},\n\t\ttoPage: function(page) {\n\t\t\t//console.error(page);\n\t\t\t//防抖\n\t\t\tif (this.isopen == false) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t//console.error(page);\n\t\t\tthis.isopen = false;\n\t\t\tsetTimeout(() => {\n\t\t\t\tthis.isopen = true;\n\t\t\t}, 500);\n\t\t\t//跳转详情，判断是否登录\n\t\t\tif (!this.userinfo.user_token) {\n\t\t\t\tuni.removeStorageSync('PageCur');\n\t\t\t\tthis.$Common.toast('您还没有登录，请先登录');\n\t\t\t\t// #ifndef MP-WEIXIN\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../../pagessignup/login'\n\t\t\t\t});\n\t\t\t\t// #endif\n\n\t\t\t\t// #ifdef MP-WEIXIN\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: '../../pagessignup/wechat/wxlog?page=outLogin'\n\t\t\t\t});\n\t\t\t\t// #endif\n\t\t\t} else {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: page\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\trequestData() {\n\t\t\t// 请求接口数据\n\t\t\tthis.$Request\n\t\t\t\t.get(this.$api.worktime.get_current_month_info, {\n\t\t\t\t\tsalaryType: this.currentTab\n\t\t\t\t})\n\t\t\t\t.then(res => {\n\t\t\t\t\t// console.error(res.data);\n\t\t\t\t\tif (this.currentTab === 2) {\n\t\t\t\t\t\tthis.workcount = res.data.count;\n\t\t\t\t\t\tthis.countUnit = res.data.unit;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.workcount = res.data.hour.toFixed(2);\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.worksalary = res.data.salary.toFixed(2);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.showLoading = false;\n\t\t\t\t\t}, 200);\n\t\t\t\t});\n\t\t}\n\t}\n};\n</script>\n<style lang=\"scss\">\npage {\n\tbackground-color: #f7f7f7 !important;\n\t// height: 100%;\n\t/* #ifdef MP-WEIXIN */\n\t// height: 100vh;\n\t/* #endif */\n}\n\n.my {\n\tposition: relative;\n\t// height: calc(100%-100upx);\n\theight: 100%;\n\tbackground: #f7f7f7;\n\t// padding-bottom: 100upx;\n}\n\n.worktime-top-section {\n\twidth: 100%;\n\n\t.bg_color {\n\t\twidth: 100%;\n\t\theight: 417rpx;\n\t\tposition: absolute;\n\t\tleft: 0;\n\t\ttop: 0;\n\t\tz-index: 0;\n\t}\n}\n\n.bg_color > image {\n\twidth: 100%;\n\theight: 100%;\n}\n\n.up_margin {\n\tmargin: auto;\n\t// margin-top: -84upx;\n\twidth: 686upx;\n\t// height: 154upx;\n\tposition: relative;\n\tbackground-color: #fff;\n\tz-index: 3;\n\tborder-radius: 16upx;\n}\n\n.tui-msg-box {\n\twidth: 686upx;\n\tmargin: 0 auto;\n\timage {\n\t\twidth: 160upx;\n\t\theight: 160upx;\n\t}\n}\n\n.tui-msg-pic {\n\twidth: 120upx;\n\theight: 120upx;\n\tborder-radius: 50%;\n\t// border: 1px solid #fff;\n\tdisplay: block;\n\tmargin-right: 24upx;\n}\n\n.path_list {\n\tpadding-top: 0;\n\tposition: relative;\n\tz-index: 999;\n\twidth: 686upx;\n\tmargin: auto;\n\tborder-radius: 16upx;\n\tmargin-top: 60upx;\n\t// padding-bottom: 100upx;\n\tmargin-bottom: 140upx;\n\tbackground-color: #fff;\n\n\t.text-grey {\n\t\tfont-size: 30rpx;\n\t}\n}\n\n.worktime-tab {\n\ttext-align: center;\n\t.worktime-tab-item {\n\t\twidth: 100%;\n\t\theight: 72upx;\n\t}\n\t.current-tab {\n\t\tborder-bottom: 3px solid #50aeff;\n\t\tcolor: #50aeff;\n\t\tpadding-bottom: 10upx;\n\t\t.current-tab-font {\n\t\t\tfont-weight: 700;\n\t\t}\n\t}\n}\n</style>\n","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./worktimeindex.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./worktimeindex.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1668579580755\n      var cssReload = require(\"D:/HBuilderX.3.6.4.20220922/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import mod from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX.3.6.4.20220922\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./App.vue?vue&type=script&lang=js&\"","<script>\r\n\timport Vue from 'vue'\r\n\t// 引入检查更新模块\r\n\timport {\r\n\t\tcheckUpdater\r\n\t} from '@/common/checkUpdater';\r\n\timport {\r\n\t\tpermissions\r\n\t} from '@/common/Permissions.js'\r\n\tvar that;\r\n\tvar pushMessage = []\r\n\texport default {\r\n\t\tonLaunch: function() {\r\n\t\t\tthat = this;\r\n\t\t\tuni.removeStorageSync('PageCur');\r\n\t\t\tuni.removeStorageSync('chooseCity');\r\n\t\t\t// 清除缓存的本地定位\r\n\t\t\tuni.removeStorageSync('position_const');\r\n\t\t\t// 微信登录获取的unionid\r\n\t\t\t// uni.removeStorageSync('unionid');\r\n\r\n\t\t\tuni.setStorageSync('istoken', true)\r\n\t\t\tuni.setStorageSync('openHomePop', 1)\r\n\t\t\t// app打开时先检查是否有更新记录（更新记录会被保存在storage中）\r\n\t\t\t// 更新记录的内容为 { 更新标记, 安装包位置 }\r\n\r\n\t\t\t// 如果存在更新记录，且更新标记（complete=true）则删除上次使用过的安装包，达到存储释放空间的目的\r\n\r\n\t\t\t// 如果存在更新记录，且更新标记（complete=false）则进行安装更新 - 2019年3月27日 新增强制更新内容\r\n\t\t\tconst _self = this;\r\n\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tplus.screen.lockOrientation('portrait-primary'); //竖屏正方向锁定\r\n\t\t\tvar platform = uni.getSystemInfoSync().platform;\r\n\t\t\tif (platform == 'ios') {\r\n\t\t\t\t//监听系统通知栏消息事件\r\n\t\t\t\tplus.push.addEventListener('receive', function(message) {\r\n\t\t\t\t\tconsole.log(message, '---receive');\r\n\t\t\t\t})\r\n\t\t\t\t//监听系统通知栏消息点击事件  \r\n\t\t\t\tplus.push.addEventListener('click', function(message) {\r\n\t\t\t\t\t//处理点击消息的业务逻辑代码\r\n\t\t\t\t\tconsole.log(message, '---push');\r\n\t\t\t\t\t// 获取透传消息的 对应动作的action 来判断要跳到那个详情页面\r\n\t\t\t\t\tif (message.payload.action == 6) { //报名状态 报名列表\r\n\t\t\t\t\t\tlet aid = message.payload.extra.position_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagescenter/userypz/singUpStatus?id=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 7) { //网约工详情  我的接单列表 我是接单者\r\n\t\t\t\t\t\tlet aid = message.payload.extra.partjob_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagescenter/userypz/my_order'\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t} else if (message.payload.action == 10) { //网约工详情  查看接单人  我是发布者 \r\n\t\t\t\t\t\tlet aid = message.payload.extra.paryjob_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagescenter/userypz/pick_up_person?pushMsg=1&aid=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 8) { //报名详情  查看简历\r\n\t\t\t\t\t\tlet aid = message.payload.extra.delivery_id\r\n\t\t\t\t\t\tlet user_id = message.payload.extra.user_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesHome/look_resume?uid=' + user_id + '&aid=' + aid +\r\n\t\t\t\t\t\t\t\t'&set_up_status=0'\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 9) { //进最新通知详情\r\n\t\t\t\t\t\tlet aid = message.payload.extra.notice_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagescenter/zhaopinzhe/noticeDetail?aid=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 11) { //聊天消息页面\r\n\t\t\t\t\t\tlet kfid = message.payload.extra.my_id\r\n\t\t\t\t\t\tlet userName = message.payload.extra.friend_nickname\r\n\t\t\t\t\t\tlet position_id = message.payload.extra.friend_job_position_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesmessage/userMsg?kfid=' + kfid + '&friendId=' + kfid +\r\n\t\t\t\t\t\t\t\t'&userName=' + userName +\r\n\t\t\t\t\t\t\t\t'&job_position_id=' + position_id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 13) { //便民信息页面  后台推送咨讯\r\n\t\t\t\t\t\tlet aid = message.payload.extra.aid\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesHome/index/convenience_detail?id=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 14) { //职位详情页面  后台推送职位\r\n\t\t\t\t\t\tlet aid = message.payload.extra.position_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesHome/index/plant_detail?id=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 1) { //系统消息页面\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesmessage/msg'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t}, false);\r\n\t\t\t\t// plus.push.addEventListener('receive', function(message) {\r\n\t\t\t\t// \tconsole.log(message, '=============receive-------ios');\r\n\r\n\t\t\t\t// }, false);\r\n\t\t\t} else if (platform == 'android') { //执行跳转判断 \r\n\t\t\t\t//监听系统通知栏消息点击事件\r\n\t\t\t\tplus.push.addEventListener('click', function(message) {\r\n\t\t\t\t\t//处理点击消息的业务逻辑代码\r\n\t\t\t\t\tconsole.log(message, '---push');\r\n\t\t\t\t\t_self._handlePush(message);\r\n\t\t\t\t\t// 获取透传消息的 对应动作的action 来判断要跳到那个详情页面\r\n\t\t\t\t}, false);\r\n\t\t\t\t//监听接收透传消息事件  \r\n\t\t\t\tplus.push.addEventListener('receive', function(message) {\r\n\t\t\t\t\tconsole.log(message, '=============receive-------00');\r\n\t\t\t\t\tif (message.payload.action == 6) { //报名状态 报名列表\r\n\t\t\t\t\t\tlet aid = message.payload.extra.position_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagescenter/userypz/singUpStatus?id=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 7) { //网约工详情  我的接单列表 我是接单者\r\n\t\t\t\t\t\tlet aid = message.payload.extra.partjob_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagescenter/userypz/my_order'\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t} else if (message.payload.action == 10) { //网约工详情  查看接单人  我是发布者 \r\n\t\t\t\t\t\tlet aid = message.payload.extra.paryjob_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagescenter/userypz/pick_up_person?pushMsg=1&aid=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 8) { //报名详情  查看简历\r\n\t\t\t\t\t\tlet aid = message.payload.extra.delivery_id\r\n\t\t\t\t\t\tlet user_id = message.payload.extra.user_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesHome/look_resume?uid=' + user_id + '&aid=' + aid +\r\n\t\t\t\t\t\t\t\t'&set_up_status=0'\r\n\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 9) { //进最新通知详情\r\n\t\t\t\t\t\tlet aid = message.payload.extra.notice_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagescenter/zhaopinzhe/noticeDetail?aid=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 11) { //聊天消息页面\r\n\t\t\t\t\t\tlet kfid = message.payload.extra.my_id\r\n\t\t\t\t\t\tlet userName = message.payload.extra.friend_nickname\r\n\t\t\t\t\t\tlet position_id = message.payload.extra.friend_job_position_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesmessage/userMsg?kfid=' + kfid + '&friendId=' + kfid +\r\n\t\t\t\t\t\t\t\t'&userName=' + userName +\r\n\t\t\t\t\t\t\t\t'&job_position_id=' + position_id\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 13) { //便民信息页面  后台推送咨讯\r\n\t\t\t\t\t\tlet aid = message.payload.extra.aid\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesHome/index/convenience_detail?id=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 14) { //职位详情页面  后台推送职位\r\n\t\t\t\t\t\tlet aid = message.payload.extra.position_id\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesHome/index/plant_detail?id=' + aid\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else if (message.payload.action == 1) { //系统消息页面\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pagesmessage/msg'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t\t_self._handlePush(message);\r\n\t\t\t\t}, false);\r\n\t\t\t}\r\n\t\t\tconst updated = uni.getStorageSync('updated'); // 尝试读取storage\r\n\t\t\tif (updated.completed === true) {\r\n\t\t\t\t// 如果上次刚更新过\r\n\t\t\t\t// 删除安装包及安装记录\r\n\t\t\t\t// console.log('安装记录被删除，更新成功');\r\n\t\t\t\tuni.removeSavedFile({\r\n\t\t\t\t\tfilePath: updated.packgePath,\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tuni.removeStorageSync('updated');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else if (updated.completed === false) {\r\n\t\t\t\tuni.removeStorageSync('updated');\r\n\t\t\t\tplus.runtime.install(updated.packgePath, {\r\n\t\t\t\t\tforce: true\r\n\t\t\t\t});\r\n\t\t\t\tuni.setStorage({\r\n\t\t\t\t\tkey: 'updated',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tcompleted: true,\r\n\t\t\t\t\t\tpackgePath: updated.packgePath\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: res => {\r\n\t\t\t\t\t\tconsole.log('成功安装上次的更新，应用需要重启才能继续完成');\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '提示',\r\n\t\t\t\t\tcontent: '应用将重启以完成更新',\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tcomplete: () => {\r\n\t\t\t\t\t\tplus.runtime.restart();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// 检查更新，参数：{ 当前版本号，跳转到更新页面的url }\r\n\t\t\t\tplus.runtime.getProperty(plus.runtime.appid, function(widgetInfo) {\r\n\t\t\t\t\t//\"versionCode\": \"100\",\r\n\t\t\t\t\t//\"version\": \"1.0.0\",\r\n\t\t\t\t\tcheckUpdater(widgetInfo.versionCode, '/pagescommon/update');\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t// #endif\r\n\t\t\t// 读取系统信息，设置全局导航高度\r\n\t\t\tuni.getSystemInfo({\r\n\t\t\t\tsuccess: function(e) {\r\n\t\t\t\t\t// #ifndef MP\r\n\t\t\t\t\tVue.prototype.StatusBar = e.statusBarHeight;\r\n\t\t\t\t\tif (e.platform == 'android') {\r\n\t\t\t\t\t\tVue.prototype.CustomBar = e.statusBarHeight + 50;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tVue.prototype.CustomBar = e.statusBarHeight + 45;\r\n\t\t\t\t\t};\r\n\t\t\t\t\t// #endif\r\n\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tVue.prototype.StatusBar = e.statusBarHeight;\r\n\t\t\t\t\tlet custom = wx.getMenuButtonBoundingClientRect();\r\n\t\t\t\t\tVue.prototype.Custom = custom;\r\n\t\t\t\t\tVue.prototype.CustomBar = custom.bottom + custom.top - e.statusBarHeight;\r\n\t\t\t\t\t// #endif\t\t\r\n\r\n\t\t\t\t\t// #ifdef MP-ALIPAY\r\n\t\t\t\t\tVue.prototype.StatusBar = e.statusBarHeight;\r\n\t\t\t\t\tVue.prototype.CustomBar = e.statusBarHeight + e.titleBarHeight;\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\t// 监听登录，更新websocket链接\r\n\t\t\t// this.initializeSocket();\r\n\t\t\t// uni.$on('appLoginSuccess', () => {\r\n\t\t\t// \tconsole.log('appLoginSuccess，接收链接通知');\r\n\t\t\t//   // uni.closeSocket()\r\n\t\t\t//   // this.initializeSocket()\r\n\t\t\t// })\r\n\t\t\tthis.initializeSocket();\r\n\t\t\t// 监听登录\r\n\t\t\tuni.$on('appLoginSuccess', () => {\r\n\t\t\t\tconsole.log('微信登录，通知开启websocket');\r\n\t\t\t\tuni.closeSocket();\r\n\t\t\t\tthis.initializeSocket()\r\n\t\t\t});\r\n\t\t\t// 监听进入聊天页面\r\n\t\t\tuni.$on('jump', res => {\r\n\t\t\t\tuni.closeSocket();\r\n\t\t\t\tconsole.log('关闭');\r\n\t\t\t});\r\n\t\t\t// 监听退出聊天页面\r\n\t\t\tuni.$on('openAll', () => {\r\n\t\t\t\tuni.closeSocket();\r\n\t\t\t\tthis.initializeSocket()\r\n\t\t\t});\n\t\t\t\n\t\t\tthis.$Request.get(this.$api.common.fetchAppSetting).then(res => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tuni.setStorageSync('is_contact', res.data.is_contact*1)\n\t\t\t});\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tconsole.log('App Show');\r\n\t\t\t// #ifdef APP-PLUS\r\n\t\t\tconsole.log('cid', plus.push.getClientInfo().clientid);\r\n\t\t\t// #endif\r\n\t\t\tuni.$emit('openPage', {}) //开启页面  打开定位返回页面刷新数据\r\n\t\t\tthis.initializeSocket()\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tpermissions()\r\n\t\t\t}, 200)\r\n\t\t\tuni.hideLoading()\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\tconsole.log('App Hide');\r\n\t\t\tuni.removeStorageSync('chooseCity');\r\n\t\t\t// 下面的方法都要写上\r\n\r\n\r\n\t\t\tuni.closeSocket();\r\n\t\t\tuni.onSocketOpen(function() {\r\n\t\t\t\tuni.closeSocket();\r\n\t\t\t});\r\n\t\t\tif(uni.getStorageSync('wechet')){\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\tuni.removeStorageSync('launchFlag')\r\n\t\t\t}\r\n\t\t\tuni.onSocketClose(function(res) {\r\n\t\t\t\tconsole.log('WebSocket 已关闭全局！');\r\n\t\t\t});\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tinitializeSocket() {\r\n\t\t\t\tlet userToKen = uni.getStorageSync('USERINFO');\r\n\t\t\t\tif (userToKen.user_token) {\r\n\t\t\t\t\t// 链接socket\r\n\t\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\t\tuni.connectSocket({\r\n\t\t\t\t\t\t// url: this.$Request.config('WS_HOST')\r\n\t\t\t\t\t\turl: 'wss://websocket.chongdarenli.com?from_id=' + userToKen.id + '&to_id=0'\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\t\t\tuni.connectSocket({\r\n\t\t\t\t\t\turl: 'ws://123.56.143.238:9502?from_id=' + userToKen.id + '&to_id=0'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// #endif\r\n\t\t\t\t\t// 链接成功\r\n\t\t\t\t\tuni.onSocketOpen((res) => {\r\n\t\t\t\t\t\t// 登录\r\n\t\t\t\t\t\t// var login_data =\r\n\t\t\t\t\t\t// \t'{\"type\":\"userInit\", \"uid\": ' +\r\n\t\t\t\t\t\t// \tuserToKen.id +\r\n\t\t\t\t\t\t// \t', \"from_name\" : \"' +\r\n\t\t\t\t\t\t// \tuserToKen.user_name +\r\n\t\t\t\t\t\t// \t'\", \"from_avatar\" : \"' +\r\n\t\t\t\t\t\t// \tuserToKen.head_img +\r\n\t\t\t\t\t\t// \t'\", \"group\" : ' +\r\n\t\t\t\t\t\t// \t1 +\r\n\t\t\t\t\t\t// \t', \"user_type\" : ' +\r\n\t\t\t\t\t\t// \t1 +\r\n\t\t\t\t\t\t// \t'}';\r\n\t\t\t\t\t\t// that.sendSocketMessage(login_data);\r\n\t\t\t\t\t\tsetInterval(function() {\r\n\t\t\t\t\t\t\tuni.sendSocketMessage({\r\n\t\t\t\t\t\t\t\tdata: 'pong',\r\n\t\t\t\t\t\t\t\tsuccess: function(res) {}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}, 10000);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tuni.onSocketError(function(res) {\r\n\t\t\t\t\t\tconsole.log('WebSocket连接打开失败，请检查！');\r\n\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// 监听收到消息\r\n\t\t\t\t\tuni.onSocketMessage(function(res) {\r\n\t\t\t\t\t\t// 非心跳\r\n\t\t\t\t\t\tconsole.log(res, '========'); //心跳\r\n\t\t\t\t\t\tif (res.data != 'success') {\r\n\t\t\t\t\t\t\tvar arr = JSON.parse(res.data)\r\n\t\t\t\t\t\t\tif (!arr) {\r\n\t\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t// 接收消息\r\n\t\t\t\t\t\t\tif (arr.event == 'saveMessage') {\r\n\t\t\t\t\t\t\t\tconsole.log('在全局接收到信息');\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tuni.$emit('receiveMsg', '接收消息')\r\n\t\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('sevice', true)\r\n\t\t\t\t\t\t\t\tlet routes = getCurrentPages(); // 获取当前打开过的页面路由数组\r\n\t\t\t\t\t\t\t\tif (routes != '') {\r\n\t\t\t\t\t\t\t\t\tlet curRoute = routes[routes.length - 1].route //获取当前页面路由\r\n\t\t\t\t\t\t\t\t\tif (curRoute != 'pagesmessage/userMsg') {\r\n\t\t\t\t\t\t\t\t\t\tuni.vibrateLong();\r\n\t\t\t\t\t\t\t\t\t\tuni.$emit('updata', {}) //刷新聊天列表\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t};\r\n\t\t\t\t\t\t// var data;\r\n\t\t\t\t\t\t// try{\r\n\t\t\t\t\t\t// \tdata = JSON.parse(res.data);\r\n\t\t\t\t\t\t// }catch(e){//TODO handle the exception\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t// if( data && data.message_type ){\r\n\t\t\t\t\t\t// \tlet routes = getCurrentPages(); // 获取当前打开过的页面路由数组\r\n\t\t\t\t\t\t// \tconsole.log( routes , '路由' );\r\n\t\t\t\t\t\t// \tif(routes!=''){\r\n\t\t\t\t\t\t// \t\tlet curRoute = routes[routes.length - 1].route //获取当前页面路由\r\n\t\t\t\t\t\t// \t\tif(data.message_type=='chatMessage' && curRoute!='pagesmessage/userMsg'){\r\n\t\t\t\t\t\t// \t\t\tuni.vibrateLong();\r\n\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// \tswitch (data.message_type) {\r\n\t\t\t\t\t\t// \t\t// 服务端ping客户端\r\n\t\t\t\t\t\t// \t\tcase 'ping':\r\n\t\t\t\t\t\t// \t\t\tthat.sendSocketMessage('{\"type\":\"ping\"}');\r\n\t\t\t\t\t\t// \t\t\tbreak;\r\n\t\t\t\t\t\t// \t\tdefault:\r\n\t\t\t\t\t\t// \t\t\tuni.$emit('onSocketMessage_detail',data);\r\n\t\t\t\t\t\t// \t\t\tuni.$emit('onSocketMessage_list',data);\r\n\t\t\t\t\t\t// \t\t\tbreak;\r\n\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t});\r\n\t\t\t\t\t// socket 断开链接后尝试重新链接\r\n\t\t\t\t\tuni.onSocketError(res => {\r\n\t\t\t\t\t\tuni.closeSocket();\r\n\t\t\t\t\t\tconsole.log('WebSocket 已关闭！');\r\n\t\t\t\t\t\t// setTimeout(()=>{\r\n\t\t\t\t\t\t// this.initializeSocket();\r\n\t\t\t\t\t\t// },1000)\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsendSocketMessage(msg) { //发送消息\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tuni.sendSocketMessage({\r\n\t\t\t\t\tdata: msg,\r\n\t\t\t\t\tsuccess: (res) => {}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t// 判断是否有引导图\r\n\t\t\tgetGuide: function() {\r\n\t\t\t\tthis.$Request.post(this.$api.operation.get_ads, {\r\n\t\t\t\t\ttypeid: 2\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.code == 1) {\r\n\t\t\t\t\t\tif (res.data.video == '') {\r\n\t\t\t\t\t\t\tif (!uni.getStorageSync('USERINFO').user_token) {\r\n\t\t\t\t\t\t\t\tuni.setStorageSync('USERINFO', {\r\n\t\t\t\t\t\t\t\t\tuser_type: 1,\r\n\t\t\t\t\t\t\t\t\tid: ''\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/guide/guide'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import \"uview-ui/index.scss\";\r\n\t/*UI自带CSS,请勿修改*/\r\n\t@import 'colorui/main.css';\r\n\t@import 'colorui/icon.css';\r\n\t/*自定义CSS*/\r\n\t@import './static/css/common.css';\r\n\t@import './static/iconfont/iconfont.css';\r\n\t@import './common/css/common.css';\r\n\r\n\t/*如 : 去除导航背景 点击时透明度 0.8*/\r\n\t.navigator {\r\n\t\topacity: 1;\r\n\t\tbackground: none;\r\n\t}\r\n\r\n\t.navigator-hover {\r\n\t\tbackground: none;\r\n\t\topacity: 0.8;\r\n\t}\r\n\r\n\t.APP_pays {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tbackground: #FFFFFF;\r\n\t}\r\n\r\n\tpage {\r\n\t\tbackground-color: #fff;\r\n\t}\r\n\r\n\t.uni-popup {\r\n\t\tz-index: 99999;\r\n\t}\r\n\r\n\t.uni-textarea-compute {\r\n\t\theight: 100%;\r\n\t\toverflow: auto;\r\n\t}\r\n</style>\r\n"],"sourceRoot":""}