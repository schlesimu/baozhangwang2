(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesHome/partList"],{3409:function(t,e,i){"use strict";i.r(e);var s=i("d193"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e["default"]=n.a},8647:function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s}));var s={uLoadmore:function(){return i.e("uview-ui/components/u-loadmore/u-loadmore").then(i.bind(null,"49b2"))},uEmpty:function(){return i.e("uview-ui/components/u-empty/u-empty").then(i.bind(null,"3480"))},uniPopup:function(){return i.e("components/uni-popup/uni-popup").then(i.bind(null,"b7f7"))}},n=function(){var t=this,e=t.$createElement,i=(t._self._c,5==t.type&&t.noticeList.length?t.__map(t.noticeList,(function(e,i){var s=t.__get_orig(e),n=!e.path&&e.system_notice_title.length>35?e.system_notice_title.substr(0,35):null,o=e.path&&e.system_notice_title.length>35?e.system_notice_title.substr(0,35):null;return{$orig:s,g0:n,g1:o}})):null);t.$mp.data=Object.assign({},{$root:{l0:i}})},o=[]},8969:function(t,e,i){},"8d3b":function(t,e,i){"use strict";i.r(e);var s=i("8647"),n=i("3409");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("a989");var a,r=i("f0c5"),d=Object(r["a"])(n["default"],s["b"],s["c"],!1,null,"50c7d3d2",null,!1,s["a"],a);e["default"]=d.exports},a989:function(t,e,i){"use strict";var s=i("8969"),n=i.n(s);n.a},aa5f:function(t,e,i){"use strict";(function(t){i("652a");s(i("66fd"));var e=s(i("8d3b"));function s(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},d193:function(t,e,i){"use strict";(function(t){function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s={data:function(){var t;return t={StatusBar:this.StatusBar,job_list:[],job_type:"",page:1,isload:!1,iconType:"flower",plant_type:[],IMG_URL:this.IMG_URL,userInfo:"",activeTab:0,showtop:!1,distance_y:"",loadText:{loadmore:"轻轻上拉",loading:"努力加载中",nomore:"实在没有了"},last_page:"",voucher:"",partList:"",status:"loadmore",Modalname:null,choose:!1,keyword:"",payrt_job_type:"",settlement_method:0,is_part_job_type:0,getpart_type:"",sorttype:1,online_type:0,sort_type:1,address:"全国",city_name:"全国",city_id:"",proventList:[],cityList:"",areaList:"",provinceIndex:1,cityIndex:"",sort_list:[{id:1,name:" 最新发布"},{id:2,name:"距离排序"},{id:3,name:"工资排序"}],type:"5",longitude:"",latitude:"",area_id:""},i(t,"cityIndex",null),i(t,"areaIndex",null),i(t,"noticeList",[]),i(t,"t",null),i(t,"left",0),t},onPageScroll:function(t){this.distance_y=t.scrollTop,t.scrollTop>=250?this.showtop=!0:this.showtop=!1},onLoad:function(e){var i=this;5==e.type?t.setNavigationBarTitle({title:"本地临时工派单"}):t.setNavigationBarTitle({title:"网络兼职派单"}),this.type=e.type,this.getAddressList(),7==e.type?(this.sort_list=[{id:1,name:" 最新发布"},{id:3,name:"工资排序"}],this.sort_type=1):(this.sort_list=[{id:1,name:" 最新发布"},{id:2,name:"距离排序"},{id:3,name:"工资排序"}],this.sort_type=1),this.$Common.getLocation((function(t){var e=i,s=[t.longitude,t.latitude];i.$Request.post(e.$api.msg.cityPosition,{user_id:e.user_id||"",cid:"",lat:s}).then((function(t){1==t.code?(7==i.type?(e.address="",e.area_id=""):(e.address=t.data.name||"全国",e.area_id=t.data.id),i.longitude=t.data.lng,i.latitude=t.data.lat,i.get_part_list(),i.getNoticeList(i.area_id),i.page=1):e.$Common.toast("无法定位，请打开手机定位！！")})).catch((function(t){e.$Common.toast("无法定位，请打开手机定位！！")}))})),t.$on("to_bottom",(function(t){var e=i;if(t){if(e.page>=e.last_page)return;e.status="loading",e.page++,e.get_part_list()}}))},onShow:function(){this.userInfo=t.getStorageSync("USERINFO"),this.get_plant_type(),this.get_part_type()},methods:{back_top:function(){t.pageScrollTo({scrollTop:0,duration:300})},search_input:function(){var t=this;if(!/^\s*(\S+)\s*$/.test(this.search_txt))return this.$Common.toast("请不要输入空格"),!1;this.search_txt=RegExp.$1,this.settlement_method=0,setTimeout((function(){t.get_part_list()}),100)},toPage:function(e){var i=this;t.getStorageSync("userToken")?0!=this.isopen&&(this.isopen=!1,setTimeout((function(){i.isopen=!0}),1500),t.navigateTo({url:e})):this.$Common.toast("登录后才能操作哦")},chooseAddress:function(){0==this.provinceIndex&&(this.provinceIndex=1,this.cityList=this.proventList[1].child,this.areaIndex=null,this.cityIndex=null),this.$refs.shareType&&this.$refs.shareType.open()},getAddressList:function(){var t=this;this.$Request.post(this.$api.msg.getAddressList).then((function(e){"1"==e.code&&(t.proventList=e.data,t.proventList.unshift({shortname:"全国",id:""}),t.cityList=t.proventList[1].child)}))},chooseProvince:function(t,e){if(this.provinceIndex=e,0==e)return this.area_id="",this.city_id="",this.address=t.shortname,this.get_part_list(),this.getNoticeList(),void(this.$refs.shareType&&this.$refs.shareType.close());this.cityList=this.proventList[e].child,this.cityList[0].child&&this.cityList.unshift({shortname:"全"+this.proventList[e].shortname,id:this.proventList[e].id}),console.log(this.cityList,"======="),this.cityIndex=null,this.areaIndex=null},chooseCity:function(t,e){console.log(t,"-------------"),this.cityIndex=e,this.city_id=t.id,this.area_id="",this.areaIndex=null,this.address=t.shortname,this.get_part_list(),this.getNoticeList(t.id),this.$refs.shareType&&this.$refs.shareType.close()},chooseArea:function(t,e,i){console.log(t,"-------------"),this.area_id=t.id,this.city_id="",this.cityIndex=null,this.areaIndex=i+"-"+e,this.address=t.shortname,this.get_part_list(),this.getNoticeList(t.id),this.$refs.shareType&&this.$refs.shareType.close()},RadioChange:function(t){},get_part_type:function(){var e=this;this.$Request.post(this.$api.company.getpart_type).then((function(i){1==i.code?(e.getpart_type=i.data,e.getpart_type.unshift({id:0,label:"全部"})):t.showToast({title:i.msg,icon:"none"})}))},check_sort:function(t,e){if(this.choose=!1,""==this.longitude)return this.$Common.toast("定位失败,请确认已打开定位权限或刷新页面后重试"),!1;this.sort_type=t.id,this.sorttype=e+1,this.dataList()},plant_filter:function(){this.choose=!0,this.Modalname="plant_filter"},hideModal:function(){this.Modalname=null},select_online_type:function(t,e){var i=this;this.Modalname=null,this.online_type=t.id,this.settlement_method=t.id,console.log(t.id,this.settlement_method),setTimeout((function(){i.dataList()}),300)},dataList:function(){this.page=1,this.status="more",this.partList=[],this.get_part_list()},get_plant_type:function(){var t=this;this.$Request.get(this.$api.index.get_fuli_info,{}).then((function(e){1==e.code&&(t.voucher=e.data.voucher)}))},navTo:function(e){var i=this;0!=this.isopen&&(this.isopen=!1,setTimeout((function(){i.isopen=!0}),1500),t.navigateTo({url:"/pagesHome/part_sort?id="+e.aid+"&user_id="+e.user_id+"&is_full="+e.is_full+"&longitude="+this.longitude+"&latitude="+this.latitude+"&type="+this.job_type}))},get_part_list:function(){var e=this,i=this;"全国"==this.city_name&&(this.city_name=""),this.$Request.post(this.$api.index.get_job_list,{tab:i.sort_type,longitude:5==i.type?i.longitude:"",latitude:5==i.type?i.latitude:"",page:i.page,list_rows:25,settlement_method:i.settlement_method||0,payrt_job_type:5==i.type?2:1,is_part_job_type:1,name:this.keyword,city:"",city_id:this.area_id||"",pid:this.city_id||""}).then((function(s){t.hideLoading(),1==s.code?(1==i.page&&(i.partList=[]),i.partList=i.partList.concat(s.data.data),i.last_page=s.data.last_page,i.status=s.data.last_page<=i.page?"nomore":"loading",setTimeout((function(){i.$emit("getData")}),100),e.isloading=!1):(e.isloading=!1,t.showToast({title:s.msg,icon:"none"}))}))},getNoticeList:function(t){var e=this;5==this.type&&(t=t||this.city_id,this.$Request.get(this.$api.msg.getNoticeList,{city_id:t||0,position:2}).then((function(t){1==t.code&&(e.noticeList=t.data)})))},toNoticeDetails:function(e){console.error(e),t.navigateTo({url:"/pagesHome/index/notice_detail?id="+e+"&type=20221015"})}}};e.default=s}).call(this,i("543d")["default"])}},[["aa5f","common/runtime","common/vendor"]]]);