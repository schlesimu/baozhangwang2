(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesHome/complaint"],{"27aa":function(t,e,i){"use strict";i.r(e);var n=i("91c2"),a=i.n(n);for(var c in n)"default"!==c&&function(t){i.d(e,t,(function(){return n[t]}))}(c);e["default"]=a.a},"6a9e":function(t,e,i){"use strict";var n;i.d(e,"b",(function(){return a})),i.d(e,"c",(function(){return c})),i.d(e,"a",(function(){return n}));var a=function(){var t=this,e=t.$createElement;t._self._c},c=[]},"8a3d":function(t,e,i){"use strict";(function(t){i("652a");n(i("66fd"));var e=n(i("f71d"));function n(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},"91c2":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i={data:function(){return{typeList:{},IMG_URL:this.IMG_URL,active:[],imgList:[],imgpath:[],max:5,body:"",contact:"",compand_id:"",job_id:"",checkArr:[],job_type:""}},onLoad:function(t){this,this.get_feedback_type(),this.compand_id=t.compand_id||"",this.job_id=t.job_id,this.job_type=t.job_type},methods:{reason:function(t){var e=this;t.checked?(t.checked=!1,this.checkArr.map((function(i,n){if(i.aid==t.aid)return e.checkArr.splice(n,1),void e.active.splice(n,1)}))):(t.checked=!0,this.checkArr.push(t),this.active.push(t.aid))},get_feedback_type:function(){var e=this;this.$Request.post(this.$api.operation.getComplaintSort).then((function(i){1==i.code?(i.data.map((function(t){for(var i in t.checked=!1,e.checkArr)e.checkArr[i].aid==t.aid&&(t.checked=!0)})),e.typeList=i.data):t.showToast({title:i.msg,icon:"none"})}))},ChooseImage:function(){var t=this;this.$Request.uploadImg((function(e){var i=e.data[0];t.imgList.push(i),t.imgpath=t.imgpath.concat(i.id)}),this.max-this.imgList.length)},ViewImage:function(e){t.previewImage({urls:this.imgList,current:e.currentTarget.dataset.url})},DelImg:function(e){var i=this;t.showModal({title:"友情提示",content:"确定要删除图片吗？",cancelText:"取消",confirmText:"确定",success:function(t){t.confirm&&(i.imgList.splice(e.currentTarget.dataset.index,1),i.imgpath.splice(e.currentTarget.dataset.index,1))}})},formSubmit:function(e){var i=this,n=e.detail.value;return""==this.active?(this.$Common.toast("请选择举报类型"),!1):n.body?""==this.imgList?(this.$Common.toast("请上传凭证"),!1):(n.url=this.imgpath,n.type_id=this.active,n.content=this.body,n.compand_id=this.compand_id||"",n.job_id=this.job_id,n.job_type=this.job_type,void this.$Request.post(this.$api.operation.comPlaint,n).then((function(e){i.$Common.toast(e.msg),1==e.code&&setTimeout((function(){t.redirectTo({url:"submit_success"})}),500)}))):(t.showToast({title:"反馈内容不能为空",icon:"none"}),!1)}}};e.default=i}).call(this,i("543d")["default"])},f6e9:function(t,e,i){"use strict";var n=i("f9f6"),a=i.n(n);a.a},f71d:function(t,e,i){"use strict";i.r(e);var n=i("6a9e"),a=i("27aa");for(var c in a)"default"!==c&&function(t){i.d(e,t,(function(){return a[t]}))}(c);i("f6e9");var o,s=i("f0c5"),r=Object(s["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],o);e["default"]=r.exports},f9f6:function(t,e,i){}},[["8a3d","common/runtime","common/vendor"]]]);