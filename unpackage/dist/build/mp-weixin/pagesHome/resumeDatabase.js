(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagesHome/resumeDatabase"],{"0592":function(t,e,i){"use strict";i.d(e,"b",(function(){return n})),i.d(e,"c",(function(){return o})),i.d(e,"a",(function(){return s}));var s={uLoadmore:function(){return i.e("uview-ui/components/u-loadmore/u-loadmore").then(i.bind(null,"49b2"))},uEmpty:function(){return i.e("uview-ui/components/u-empty/u-empty").then(i.bind(null,"3480"))},uniPopup:function(){return i.e("components/uni-popup/uni-popup").then(i.bind(null,"b7f7"))}},n=function(){var t=this,e=t.$createElement;t._self._c},o=[]},2295:function(t,e,i){"use strict";(function(t){i("652a");s(i("66fd"));var e=s(i("ce89"));function s(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=i,t(e.default)}).call(this,i("543d")["createPage"])},"3a47":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,n=o(i("c5aa"));function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var u=function(){i.e("components/lee-pop").then(function(){return resolve(i("b76a"))}.bind(null,i)).catch(i.oe)},r=function(){Promise.all([i.e("common/vendor"),i.e("components/fu-filter")]).then(function(){return resolve(i("b155"))}.bind(null,i)).catch(i.oe)},c={mixins:[n.default],components:{leePopup:u,fuFilter:r},data:function(){return{CustomBar:this.CustomBar,StatusBar:this.StatusBar,is_top:!1,isSearch:!0,longitude_const:"",latitude_const:"",longitude:"",latitude:"",iconType:"flower",page:1,loadText:{loadmore:"轻轻上拉",loading:"努力加载中",nomore:"实在没有了"},address:"",last_page:"",brokerList:"",keyword:"",voucher:"",user_id:"",userInfo:"",city_id:"",lookNum:3,dataList:[],station:"",experience:"",education:0,salary:"",resumeNumInfo:"",provinceIndex:0,proventList:[],cityList:"",area_id:"",cityIndex:null,areaIndex:null,station_id:""}},onLoad:function(){var e=this;this.userInfo=t.getStorageSync("USERINFO"),this.user_id=this.userInfo.id,this.dataList=t.getStorageSync("lookResumNum")||[],console.log(this.dataList),this.getAddressList(),this.$Common.getLocation((function(t){var i=e;e.longitude_const=t.longitude,e.latitude_const=t.latitude;var s=[t.longitude,t.latitude];e.$Request.post(i.$api.msg.cityPosition,{user_id:i.user_id||"",cid:i.city_id||"",lat:s}).then((function(t){1==t.code?(i.address=t.data.name,i.area_id=t.data.id,e.longitude=t.data.lng,e.latitude=t.data.lat,e.get_list(),e.page=1):i.$Common.toast("无法定位，请打开手机定位！！")})).catch((function(t){i.$Common.toast("无法定位，请打开手机定位！！")}))}))},onShow:function(){this.getResumeNumInfo()},onReachBottom:function(){this.get_list(++this.page,!0)},onUnload:function(){t.$off("area"),t.$off("country")},methods:(s={choosePosition:function(t){this.station=t.aid,this.station_id=t.station_id,this.get_list()},chooseCity:function(t){console.log(t,"===="),this.cityId=t.cityId,this.get_list()},chooseSalary:function(t){console.log(t,"===="),this.salary=t,this.get_list()},chooseEducation:function(t){console.log(t,"===="),this.education=t.id,this.get_list()},chooseExperience:function(t){console.log(t,"===="),this.experience=t.label,this.get_list()},search_input:function(){var t=this;if(!/^\s*(\S+)\s*$/.test(this.search_txt))return this.$Common.toast("请不要输入空格"),!1;this.search_txt=RegExp.$1,this.fan_type=0,this.page=1,this.welfare="",setTimeout((function(){t.get_list()}),100)},cancel:function(){this.$refs.leepop.close()},confirm:function(){t.navigateTo({url:"payViewNumber"}),this.$refs.leepop.close()},confirmResume:function(){t.navigateTo({url:"../pagescenter/userypz/zhaopinSort"}),this.$refs.leepopResume.close()},cancelResume:function(){this.$refs.leepopResume.close()},isback:function(){t.navigateBack()},chooseAddress:function(){0==this.provinceIndex&&(this.provinceIndex=1,this.cityList=this.proventList[1].child,this.areaIndex=null,this.cityIndex=null),this.isSearch=!1,this.$refs.addressPop&&this.$refs.addressPop.open()},getAddressList:function(){var t=this;this.$Request.post(this.$api.msg.getAddressList).then((function(e){"1"==e.code&&(t.proventList=e.data,t.proventList.unshift({shortname:"全国",id:""}),t.cityList=t.proventList[1].child)}))},chooseProvince:function(t,e){if(this.provinceIndex!=e){if(0==e)return this.area_id="",this.city_id="",this.address=t.shortname,this.get_list(),void(this.$refs.addressPop&&this.$refs.addressPop.close());this.provinceIndex=e,this.cityList=this.proventList[e].child,this.cityList[0].child&&this.cityList.unshift({shortname:"全"+this.proventList[e].shortname,id:this.proventList[e].id}),console.log(this.cityList,"======="),this.cityIndex=null,this.areaIndex=null}}},a(s,"chooseCity",(function(t,e){this.cityIndex=e,this.city_id=t.id,this.area_id="",this.areaIndex=null,this.address=t.shortname,this.get_list(),this.$refs.addressPop&&this.$refs.addressPop.close()})),a(s,"chooseArea",(function(t,e,i){this.area_id=t.id,this.city_id="",this.cityIndex=null,this.areaIndex=i+"-"+e,this.address=t.shortname,this.get_list(),this.$refs.addressPop&&this.$refs.addressPop.close()})),a(s,"lookResume",(function(e){var i=this;t.getStorageSync("USERINFO").user_token?0!=this.resumeNumInfo.is_Company?0!=this.isopen&&(this.isopen=!1,setTimeout((function(){i.isopen=!0}),1500),0!=this.resumeNumInfo.look_num||0!=this.resumeNumInfo.company_num?t.navigateTo({url:"lookResumeNew?uid="+e.user_id+"&resume_id="+e.aid+"&type=0"}):this.$refs.leepop.open()):this.$refs.leepopResume.open():this.$Common.toast("登录后才能操作哦")})),a(s,"toPage",(function(e){var i=this;t.getStorageSync("userToken")?0!=this.isopen&&(this.isopen=!1,setTimeout((function(){i.isopen=!0}),1500),t.navigateTo({url:e})):this.$Common.toast("登录后才能操作哦")})),a(s,"get_plant_type",(function(){var t=this;this.$Request.get(this.$api.index.get_fuli_info,{}).then((function(e){1==e.code&&(t.voucher=e.data.voucher)}))})),a(s,"call",(function(e){t.makePhoneCall({phoneNumber:e.phone})})),a(s,"getResumeNumInfo",(function(){var e=this;this.$Request.post(this.$api.user.getResumeNumInfo,{user_id:t.getStorageSync("USERINFO").id}).then((function(t){1==t.code&&(e.resumeNumInfo=t.data.resume,e.lookNum=Number(t.data.resume.look_num)+Number(t.data.resume.company_num))}))})),a(s,"get_list",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=this;this.$Request.post(this.$api.user.resumeStoreList,{work_experience:this.experience||"",keyword:this.keyword||"",education:i.education||"",station:i.station||"",stations_pid:i.station_id||"",salary:this.salary||"",city_id:this.area_id||"",pid:this.city_id||"",page:e}).then((function(e){t.hideLoading(),1==e.code?(1==i.page&&(i.brokerList=[]),e.data.data.map((function(t){t.distance=parseFloat(t.distance).toFixed(2)})),i.brokerList=i.brokerList.concat(e.data.data),i.last_page=e.data.last_page,i.status=e.data.last_page<=i.page?"nomore":"loading",setTimeout((function(){i.$emit("getData",111)}),100)):t.showToast({title:e.msg,icon:"none"})}))})),s)};e.default=c}).call(this,i("543d")["default"])},8793:function(t,e,i){},ce89:function(t,e,i){"use strict";i.r(e);var s=i("0592"),n=i("e7a8");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("e013");var a,u=i("f0c5"),r=Object(u["a"])(n["default"],s["b"],s["c"],!1,null,null,null,!1,s["a"],a);e["default"]=r.exports},e013:function(t,e,i){"use strict";var s=i("8793"),n=i.n(s);n.a},e7a8:function(t,e,i){"use strict";i.r(e);var s=i("3a47"),n=i.n(s);for(var o in s)"default"!==o&&function(t){i.d(e,t,(function(){return s[t]}))}(o);e["default"]=n.a}},[["2295","common/runtime","common/vendor"]]]);