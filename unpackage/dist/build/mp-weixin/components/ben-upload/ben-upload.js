(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/ben-upload/ben-upload"],{"1a44":function(t,n,e){"use strict";var a;e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return r})),e.d(n,"a",(function(){return a}));var i=function(){var t=this,n=t.$createElement;t._self._c},r=[]},"36f7":function(t,n,e){"use strict";var a=e("7e92"),i=e.n(a);i.a},6462:function(t,n,e){"use strict";e.r(n);var a=e("a84a"),i=e.n(a);for(var r in a)"default"!==r&&function(t){e.d(n,t,(function(){return a[t]}))}(r);n["default"]=i.a},"7e92":function(t,n,e){},a84a:function(t,n,e){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={props:{col:{type:[Number,String],default:4},max:{type:[Number,String],default:8},uShow:{type:[Boolean],default:!1},defaultList:{type:[Array,String]}},data:function(){var t=this.$Config("APIHOST")+this.$api.common.upload;return{imgList:[],IMG_URL:this.IMG_URL,loadUrl:t,count:0}},computed:{previewList:function(){return this.imgList.map((function(t){return t.path}))}},watch:{defaultList:function(t){this.imgList=t.map((function(t){return t.end=!0,t.path=t.url,t}))}},mounted:function(){var t=this;this.defaultList&&this.defaultList.map((function(n){n.end=!0,n.path=n.url,t.imgList.push(n)})),console.log(this.defaultList,"========defaultList")},methods:{ChooseImage:function(){var n=this;t.chooseImage({count:this.max-this.imgList.length,sizeType:["original","compressed"],sourceType:["album","album"],success:function(t){n.count=t.tempFilePaths.length;var e=t.tempFilePaths.map((function(t){var e={path:t,loading:"0%",task:null,end:!1,error:!1,aid:null};return n.uploadImage(e),e}));console.error(e),n.imgList=n.imgList.concat(e),console.error(n.imgList)}})},uploadImage:function(n){var e=this,a=t.uploadFile({url:this.loadUrl,filePath:n.path,name:"file[]",success:function(a){var i=JSON.parse(a.data);1==i.code?(n.end=!0,n.task=null,n.url=i.data[0].path,n.aid=i.data[0].id):(n.end=!0,n.task.abort(),n.task=null,n.error=!0,t.showToast({icon:"none",title:"上传失败，请重新选择图片上传"})),e.count--,0===e.count&&e.handleChange()},fail:function(e){n.task.abort(),n.task=null,n.error=!0,t.showToast({icon:"none",title:"上传失败,请检查网络设置"}),console.log("error: "+JSON.stringify(e))}});n.task=a,a.onProgressUpdate((function(t){n.loading=t.progress+"%"}))},ViewImage:function(n){t.previewImage({urls:this.previewList,current:n.currentTarget.dataset.url})},DelImg:function(t){this.imgList.splice(t.currentTarget.dataset.index,1),this.handleChange()},handleChange:function(){var t=this.imgList.map((function(t){return t.error?"":t}));this.$emit("change",t)}}};n.default=e}).call(this,e("543d")["default"])},df45:function(t,n,e){"use strict";e.r(n);var a=e("1a44"),i=e("6462");for(var r in i)"default"!==r&&function(t){e.d(n,t,(function(){return i[t]}))}(r);e("36f7");var o,u=e("f0c5"),s=Object(u["a"])(i["default"],a["b"],a["c"],!1,null,null,null,!1,a["a"],o);n["default"]=s.exports}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/ben-upload/ben-upload-create-component',
    {
        'components/ben-upload/ben-upload-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("df45"))
        })
    },
    [['components/ben-upload/ben-upload-create-component']]
]);
