(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/ben-video-upload/ben-video-upload"],{"098f":function(t,e,n){"use strict";var i;n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}));var o=function(){var t=this,e=t.$createElement;t._self._c},a=[]},"15c0":function(t,e,n){},"4d50":function(t,e,n){"use strict";var i=n("15c0"),o=n.n(i);o.a},"7c34":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={props:{col:{type:[Number,String],default:4},max:{type:[Number,String],default:8},uShow:{type:[Boolean],default:!1},defaultList:{type:[Array,String]}},data:function(){var t=this.$Config("APIHOST")+this.$api.common.upload_file;return{videoList:[],IMG_URL:this.IMG_URL,loadUrl:t,count:0,currentVideo:"",showBig:!1}},computed:{previewList:function(){return this.videoList.map((function(t){return t.path}))}},watch:{defaultList:function(t){var e=this;console.error(t),t.map((function(t){t.end=!0,t.path=t.url,e.videoList.push(t)}))}},mounted:function(){var t=this;this.defaultList&&this.defaultList.map((function(e){e.end=!0,e.path=e.url,t.videoList.push(e)})),console.log(this.defaultList,"========defaultList")},methods:{ChooseVideo:function(){var e=this;t.chooseMedia({count:this.max-this.videoList.length,mediaType:["video"],sizeType:["original","compressed"],sourceType:["album","camera"],success:function(t){console.log(t),e.count=t.tempFiles.length;var n=t.tempFiles.map((function(t){var n={path:t,loading:"0%",task:null,end:!1,error:!1,aid:null};return e.uploadVideo(n),n}));e.videoList=e.videoList.concat(n)}})},uploadVideo:function(e){var n=this,i=t.uploadFile({url:this.loadUrl,filePath:e.path.tempFilePath,name:"file",success:function(i){var o=JSON.parse(i.data);console.log(i),1==o.code?(e.end=!0,e.task=null,e.url=o.data[0].path,e.aid=o.data[0].id):(e.end=!0,e.task.abort(),e.task=null,e.error=!0,t.showToast({icon:"none",title:"上传失败，请重新选择视频上传"})),n.count--,0===n.count&&n.handleChange()},fail:function(n){e.task.abort(),e.task=null,e.error=!0,t.showToast({icon:"none",title:"上传失败,请检查网络设置"}),console.log("error: "+JSON.stringify(n))}});e.task=i,i.onProgressUpdate((function(t){e.loading=t.progress+"%"}))},ViewVideo:function(t){this.showBig=!0,this.currentVideo=t},closeVideo:function(){this.showBig=!1},DelVideo:function(t){this.videoList.splice(t.currentTarget.dataset.index,1),this.handleChange()},handleChange:function(){var t=this.videoList.map((function(t){return t.error?"":t}));this.$emit("change",t)}}};e.default=n}).call(this,n("543d")["default"])},a16f:function(t,e,n){"use strict";n.r(e);var i=n("098f"),o=n("fd4b");for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);n("4d50");var u,r=n("f0c5"),s=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],u);e["default"]=s.exports},fd4b:function(t,e,n){"use strict";n.r(e);var i=n("7c34"),o=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=o.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/ben-video-upload/ben-video-upload-create-component',
    {
        'components/ben-video-upload/ben-video-upload-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('543d')['createComponent'](__webpack_require__("a16f"))
        })
    },
    [['components/ben-video-upload/ben-video-upload-create-component']]
]);
