(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagessignup/code"],{"303d":function(e,t,o){"use strict";o.r(t);var i=o("8184"),n=o("faf0");for(var s in n)"default"!==s&&function(e){o.d(t,e,(function(){return n[e]}))}(s);o("3859");var a,r=o("f0c5"),u=Object(r["a"])(n["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],a);t["default"]=u.exports},3859:function(e,t,o){"use strict";var i=o("c0f8"),n=o.n(i);n.a},8184:function(e,t,o){"use strict";var i;o.d(t,"b",(function(){return n})),o.d(t,"c",(function(){return s})),o.d(t,"a",(function(){return i}));var n=function(){var e=this,t=e.$createElement;e._self._c},s=[]},a2b5:function(e,t,o){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o={data:function(){return{mobile:null,propType:"",pagetype:"",getCodeisWaiting:!0,codeIndex:1,getCodeBtnColor:"",getCodeText:"",codeArr:[],ranges:[1,2,3,4],maxlength:4,isPwd:!1,type:"",bindtype:"",password:""}},watch:{maxlength:{immediate:!0,handler:function(e){this.ranges=6===e?[1,2,3,4,5,6]:[1,2,3,4]}}},onLoad:function(e){this.mobile=e.phone,this.propType=e.type,this.password=e.password,this.pagetype=e.pagetype||"",this.setTimer()},methods:{passlogin:function(){e.navigateTo({url:"login"})},getVal:function(e){var t=e.detail.value,o=t.split("");this.codeIndex=o.length+1,this.codeArr=o,this.codeIndex>Number(this.maxlength)&&this.submit()},userclient:function(){var e=this,t=plus.push.getClientInfo().clientid;this.$Request.post(this.$api.common.set_client_id,{client_id:t}).then((function(t){"1"==t.code&&(e.content=t.data)}))},submit:function(){var t=this;e.showLoading({title:"提交中..."});var o=e.getStorageSync("wechatinfo");if("bind"==this.pagetype){this.mobile,this.propType,this.codeArr.join(""),o.openId,o.unionId,o.nickName;this.$Request.post(this.$api.user.bind_wechat_account,{mobile:this.mobile,type:this.propType,code:this.codeArr.join(""),openId:o.openId,unionId:o.unionId,nickName:o.nickName}).then((function(o){e.hideLoading(),1==o.code?(e.removeStorageSync("wechatinfo"),e.setStorageSync("USERINFO",o.data.userinfo),e.setStorageSync("userToken",o.data.userinfo.user_token),e.removeStorageSync("PageCur"),e.$emit("userinfo",{}),e.$emit("appLoginSuccess",{}),console.log(o.data),2==o.data.userinfo.user_type?e.reLaunch({url:"../pages/index/index"}):1==o.data.userinfo.user_type&&(0==o.data.userinfo.is_personal_profile?e.navigateTo({url:"./chooseCity"}):e.reLaunch({url:"../pages/index/index"}))):t.$Common.toast(o.msg)}))}else this.$Request.post(this.$api.user.user_mobile_login,{mobile:this.mobile,type:this.propType,code:this.codeArr.join(""),password:this.password}).then((function(o){e.hideLoading(),1==o.code?(e.setStorageSync("USERINFO",o.data.userinfo),e.setStorageSync("userToken",o.data.userinfo.user_token),e.$emit("userinfo",{}),e.removeStorageSync("PageCur"),e.$emit("appLoginSuccess",{}),e.navigateTo({url:"./chooseCity"})):t.$Common.toast(o.msg)}))},getCode:function(){var t=this;if(e.hideKeyboard(),!this.getCodeisWaiting){if(!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.mobile))return e.showToast(this.mobile?{title:"请填写正确手机号码",icon:"none"}:{title:"请输入手机号码",icon:"none"}),!1;this.getCodeText="发送中...",this.getCodeisWaiting=!0,this.getCodeBtnColor="#2A89FF",this.$Request.post(this.$api.common.getverifycode,{mobile:this.mobile,type:this.propType}).then((function(o){t.$Common.toast(o.msg),1==o.code?t.setTimer():(e.showToast({title:o.msg,icon:"none"}),t.getCodeText="获取验证码",t.getCodeBtnColor="#2A89FF",t.getCodeisWaiting=!1)}))}},setTimer:function(){var e=this,t=60;this.Timer=setInterval((function(){if(t<=0)return e.getCodeisWaiting=!1,e.getCodeBtnColor="#2A89FF",e.getCodeText="重新发送",void clearInterval(e.Timer);e.getCodeBtnColor="#666666",e.getCodeText="重新发送("+t+"s)",t--}),1e3)}}};t.default=o}).call(this,o("543d")["default"])},c0f8:function(e,t,o){},ee2a:function(e,t,o){"use strict";(function(e){o("652a");i(o("66fd"));var t=i(o("303d"));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=o,e(t.default)}).call(this,o("543d")["createPage"])},faf0:function(e,t,o){"use strict";o.r(t);var i=o("a2b5"),n=o.n(i);for(var s in i)"default"!==s&&function(e){o.d(t,e,(function(){return i[e]}))}(s);t["default"]=n.a}},[["ee2a","common/runtime","common/vendor"]]]);