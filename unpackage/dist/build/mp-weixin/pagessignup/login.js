(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagessignup/login"],{"15ca":function(e,n,t){"use strict";var i=t("2ef2"),o=t.n(i);o.a},"1dc3":function(e,n,t){"use strict";var i;t.d(n,"b",(function(){return o})),t.d(n,"c",(function(){return s})),t.d(n,"a",(function(){return i}));var o=function(){var e=this,n=e.$createElement;e._self._c},s=[]},"2ef2":function(e,n,t){},"50f4":function(e,n,t){"use strict";(function(e){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var t={data:function(){return{mobile:"",password:"",isShowOauth:!0,IMG_URL:this.IMG_URL,showProvider:{weixin:!1,qq:!1,sinaweibo:!1,xiaomi:!1},client_id:""}},onShow:function(){},onLoad:function(e){this.getProvider()},methods:{userclient:function(){var e=this;this.client_id=plus.push.getClientInfo().clientid,this.$Request.post(this.$api.common.set_client_id,{client_id:this.client_id}).then((function(n){"1"==n.code&&console.log(e.client_id,"==========push推送更换clientId")}))},quickLogin:function(n){var t=this;e.showLoading({title:"请稍等"}),e.login({success:function(i){e.getUserInfo({provider:n,success:function(i){"weixin"==n&&t.$Request.post(t.$api.user.user_wechat_login,{type:1,wx_unionid:i.userInfo.unionId}).then((function(n){1==n.code&&(e.hideLoading(),e.showToast({title:n.msg,icon:"none"}),e.setStorageSync("USERINFO",n.data.userinfo),e.setStorageSync("userToken",n.data.userinfo.user_token),console.log(n.data.userinfo),e.removeStorageSync("PageCur"),e.$emit("appLoginSuccess",{}),e.reLaunch({url:"../pages/index/index"})),"-999"==n.code&&(e.setStorageSync("wechatinfo",i.userInfo),e.navigateTo({url:"bind_account"})),e.hideLoading()}))},fail:function(n){e.hideLoading();var t=n.errMsg.substring(17,11);e.showToast({title:t,icon:"success"})},complete:function(){e.hideLoading()}})}})},getProvider:function(){var n=this;e.getProvider({service:"oauth",success:function(e){for(var t=e.provider.length,i=0;i<t;i++)n.showProvider[e.provider[i]]=!0;0==e.provider.length&&(n.isShowOauth=!1)}})},toPage:function(n){e.hideKeyboard(),"resetpassword"==n?e.navigateTo({url:n}):e.redirectTo({url:n})},doLogin:function(){if(e.hideKeyboard(),!/^1(3|4|5|6|7|8|9)\d{9}$/.test(this.mobile))return e.showToast(this.mobile?{title:"请填写正确手机号码",icon:"none"}:{title:"请输入手机号码",icon:"none"}),!1;if(this.password){e.showLoading({title:"提交中..."});var n={mobile:this.mobile,password:this.password};this.$Request.post(this.$api.user.user_name_login,n).then((function(n){e.showToast({title:n.msg,icon:"none"}),"1"==n.code&&(e.setStorageSync("USERINFO",n.data.userinfo),e.setStorageSync("userToken",n.data.userinfo.user_token),e.$emit("userinfo",{}),e.$emit("appLoginSuccess",{}),console.log(n.data),2==n.data.userinfo.user_type?e.reLaunch({url:"../pages/index/index"}):1==n.data.userinfo.user_type&&(0==n.data.userinfo.is_personal_profile?e.navigateTo({url:"chooseCity"}):e.reLaunch({url:"../pages/index/index"})))}))}else this.$Common.toast("请输入密码")}}};n.default=t}).call(this,t("543d")["default"])},6098:function(e,n,t){"use strict";t.r(n);var i=t("1dc3"),o=t("8861");for(var s in o)"default"!==s&&function(e){t.d(n,e,(function(){return o[e]}))}(s);t("15ca");var r,a=t("f0c5"),u=Object(a["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);n["default"]=u.exports},8861:function(e,n,t){"use strict";t.r(n);var i=t("50f4"),o=t.n(i);for(var s in i)"default"!==s&&function(e){t.d(n,e,(function(){return i[e]}))}(s);n["default"]=o.a},db21:function(e,n,t){"use strict";(function(e){t("652a");i(t("66fd"));var n=i(t("6098"));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(n.default)}).call(this,t("543d")["createPage"])}},[["db21","common/runtime","common/vendor"]]]);