(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagescenter/userypz/my_jianli","components/w-picker/w-picker"],{"1a50":function(e,t,n){},2201:function(e,t,n){"use strict";(function(e){n("652a");i(n("66fd"));var t=i(n("ee0c"));function i(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])},"4d08":function(e,t,n){"use strict";n.r(t);var i=n("5215"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},5215:function(e,t,n){"use strict";(function(e){function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s=function(){n.e("components/w-picker/date-picker").then(function(){return resolve(n("3115"))}.bind(null,n)).catch(n.oe)},r=function(){n.e("components/w-picker/range-picker").then(function(){return resolve(n("14c8"))}.bind(null,n)).catch(n.oe)},u=function(){n.e("components/w-picker/half-picker").then(function(){return resolve(n("7e85"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/w-picker/shortterm-picker").then(function(){return resolve(n("59eb"))}.bind(null,n)).catch(n.oe)},l=function(){n.e("components/w-picker/time-picker").then(function(){return resolve(n("c8e3"))}.bind(null,n)).catch(n.oe)},d=function(){n.e("components/w-picker/selector-picker").then(function(){return resolve(n("f595"))}.bind(null,n)).catch(n.oe)},f=function(){Promise.all([n.e("common/vendor"),n.e("components/w-picker/region-picker")]).then(function(){return resolve(n("cf6f"))}.bind(null,n)).catch(n.oe)},h=function(){n.e("components/w-picker/linkage-picker").then(function(){return resolve(n("72e8"))}.bind(null,n)).catch(n.oe)},p={name:"w-picker",components:{datePicker:s,rangePicker:r,halfPicker:u,timePicker:l,selectorPicker:d,shorttermPicker:c,regionPicker:f,linkagePicker:h},props:{mode:{type:String,default:"date"},value:{type:[String,Array,Number],default:""},current:{type:Boolean,default:!1},themeColor:{type:String,default:"#f5a200"},fields:{type:String,default:"date"},disabledAfter:{type:Boolean,default:!1},second:{type:Boolean,default:!0},options:{type:[Array,Object],default:function(){return[]}},defaultProps:{type:Object,default:function(){return{label:"label",value:"value",children:"children"}}},defaultType:{type:String,default:"label"},hideArea:{type:Boolean,default:!1},level:{type:[Number,String],default:2},timeout:{type:Boolean,default:!1},expand:{type:[Number,String],default:30},startYear:{type:[String,Number],default:1970},endYear:{type:[String,Number],default:(new Date).getFullYear()},visible:{type:Boolean,default:!1}},created:function(){this.createKey=1e3*Math.random()},data:function(){return{itemHeight:"height: ".concat(e.upx2px(88),"px;"),result:{},confirmFlag:!0}},methods:{touchStart:function(){this.timeout&&(this.confirmFlag=!1)},touchEnd:function(){var e=this;this.timeout&&setTimeout((function(){e.confirmFlag=!0}),500)},handlerChange:function(e){this.result=o({},e)},show:function(){this.$emit("update:visible",!0)},hide:function(){this.$emit("update:visible",!1)},onCancel:function(e){this.$emit("update:visible",!1),this.$emit("cancel")},pickerConfirm:function(){this.confirmFlag&&(this.$emit("confirm",this.result),this.$emit("update:visible",!1))}}};t.default=p}).call(this,n("543d")["default"])},"55d6":function(e,t,n){"use strict";n.r(t);var i=n("6f33"),o=n("4d08");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("c13c");var s,r=n("f0c5"),u=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);t["default"]=u.exports},"6f33":function(e,t,n){"use strict";var i;n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var o=function(){var e=this,t=e.$createElement;e._self._c},a=[]},"85a6":function(e,t,n){"use strict";n.r(t);var i=n("af5d"),o=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=o.a},af5d:function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("55d6")),o=n("6c72");function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var r=function(){n.e("components/ben-upload/ben-upload").then(function(){return resolve(n("df45"))}.bind(null,n)).catch(n.oe)},u=n("5745"),c=s({components:{benUpload:r},data:function(){return{CustomBar:this.CustomBar,StatusBar:this.StatusBar,IMG_URL:this.IMG_URL,experienceList:o.experience1,experience_act:"",salaryList:[],salary:"",sexIndex:1,experience:!1,isOpen:!1,uShow:!1,sex:[{value:1,label:"男"},{value:2,label:"女"}],salaryS:!1,dateValue:"",user:{},city:"",hometown:"",city1:null,user_type:1,edittype:1,degree:!1,degree_list:[],myLike:"",myDescribution:"",degree_act:"",isopen:!0,uploadpic:!1,phone:"",jobDate:"",range:!1,iwant:[],JobType:"",ido:[],liveImg:[],life_photos:[],skillImg:[],skill_certificate:[],experienceInfo:[],educationInfo:[],region:!1,address:!1,birthday:!1,defaultpic:!1,cert_status:100,jobAddress:"",head_imgId:"",city_id:"",page:""}},onLoad:function(t){var n=this;this.page=t.page,this.edittype=t.edittype,this.getDegree();var i=t.avatar;i&&(this.user.head_imgs=i),this.user.address&&(this.name=this.user.address),e.getStorageSync("USERINFO").user_token&&(this.getinfo(),this.user_undergo_list()),this.getWantSalary(),e.$on("upHeadImg",(function(e){console.log(e,"监听图片修改参数"),n.user.head_imgs=e.avatar,n.head_imgId=e.path,n.$forceUpdate()})),e.removeStorageSync("jobTag"),e.removeStorageSync("jobTagIdo"),e.$on("position",(function(t){console.log(t,"选择的职位类别"),n.iwant=t,""!=n.iwant&&e.setStorageSync("jobTag",n.iwant)})),e.$on("my_jianli",(function(e){n.user_undergo_list()})),e.$on("country",(function(e){console.log(e,"监听工作城市"),n.city=e.city})),this.$Common.getLocation((function(e){var t=n,i=[e.longitude,e.latitude];n.$Request.post(t.$api.msg.cityPosition,{user_id:t.user_id||"",cid:"",lat:i}).then((function(e){1==e.code?t.city_id=e.data.id:t.$Common.toast("无法定位，请打开手机定位！！")})).catch((function(e){t.$Common.toast("无法定位，请打开手机定位！！")}))}))},onUnload:function(){e.$off("upHeadImg"),e.$off("position"),e.$off("ido"),e.$off("identity"),e.$off("country")},onShow:function(){this.defaultpic=!0},methods:{toPath:function(t){e.navigateTo({url:t})},skillImgLive:function(e){this.defaultpic=!0,this.skillImg=e,""!=e&&(this.uShow=!0)},nickname:function(e){e.length>6&&this.$Common.toast("姓名不能超过六个字符")},nickblur:function(e){e.length<2&&this.$Common.toast("姓名不能少于2个字符")},goSelectJob:function(t){e.navigateTo({url:"../../pagescommon/my_search?jobtype=1&request=1&type="+t})},getWantSalary:function(){var e=this;this.$Request.post(this.$api.user.getWantSalary).then((function(t){"1"==t.code&&(t.data.map((function(t,n){e.salaryList.push({label:t,value:n})})),console.log(e.salaryList))}))},setResumeStatus:function(){var t=this;if(!this.user.head_imgs)return this.$Common.toast("请先完善简历");e.showModal({title:"提示",content:this.isOpen?"您确定要开启简历吗":"您确定要关闭简历吗",success:function(n){1==n.confirm&&t.$Request.post(t.$api.user.setResum).then((function(n){1==n.code?(t.$Common.toast(n.msg),1==n.data.status?t.isOpen=!0:t.isOpen=!1,setTimeout((function(){e.navigateBack({})}),300)):t.$Common.toast(n.msg)}))},fail:function(e){t.$Common.toast("网络错误，请稍后重试")}})},deletItem:function(e,t){var n=this;this.$Request.post(this.$api.user.deletUndergo,{type:e,aid:t.aid}).then((function(e){1==e.code?(n.$Common.toast(e.msg),1==e.data.status?n.isOpen=!0:n.isOpen=!1,setTimeout((function(){n.user_undergo_list()}),300)):n.$Common.toast(e.msg)}))},editItem:function(t,n){1==t?e.navigateTo({url:"../../pagesauthen/experience?aid="+n.aid}):e.navigateTo({url:"../../pagesauthen/work_jingli?aid="+n.aid})},toggleTab:function(e,t){console.log("选择了=======",e),this.$data[e]=!0},yulan:function(e){this.$Common.lookImg(e),e||this.upload()},addressConfirm:function(e){this.hometown=e.obj.province.label+"-"+e.obj.city.label+"-"+e.obj.area.label},cityConfirm:function(e){this.jobAddress=e.obj.province.label+"-"+e.obj.city.label+"-"+e.obj.area.label},degreeConfirm:function(e){this.degree_act={label:e.result,id:e.value}},experienceConfirm:function(e){this.experience_act=e.obj.label},salaryConfirm:function(e){this.salary=e.obj.label},onConfirm:function(e,t){"date1"==t?this.dateValue=e.result:this.jobDate=e.result},isback:function(){"resiter"==this.page?e.reLaunch({url:"../../pages/index/index"}):e.navigateBack()},getDegree:function(){var e=this;this.$Request.post(this.$api.user.user_degree,{type:1}).then((function(t){"1"==t.code&&(t.data.map((function(t,n){e.degree_list.push({label:t.label,value:t.id})})),console.log(e.degree_list,"========degree_list"))}))},chooseSex:function(e,t){this.sexIndex=e.value,console.log(this.sexIndex)},user_undergo_list:function(){var e=this;this.$Request.post(this.$api.user.user_undergo_list,{type:1}).then((function(t){"1"==t.code?(""!=t.data.education&&(e.educationInfo=t.data.education),""!=t.data.work&&(e.experienceInfo=t.data.work)):e.$Common.toast(t.msg)})).catch((function(t){e.$Common.toast("网络错误，请稍后再试")}))},getinfo:function(){var t=this;this.$Request.post(this.$api.company.getResumeInfo).then((function(n){e.hideLoading(),1==n.code?(t.user.full_name=n.data.full_name,t.head_imgId=n.data.head_img,t.user.head_imgs=n.data.head_imgs,t.sexIndex=n.data.sex,t.dateValue=n.data.birthday||"",t.hometown=n.data.hometown||"",t.JobType=n.data.want_find,t.phone=n.data.mobile,t.iwant={station_name:n.data.station_name,aid:n.data.station},t.isOpen=0==n.data.status,t.myLike=n.data.hobby,t.salary=n.data.salary,t.experience_act=n.data.work_experience,t.degree_act={label:n.data.educationName,id:n.data.education},t.city_id=n.data.city_id,t.skillImg=n.data.life_photos_arr,t.skillImg.map((function(e){e.loading="100%",e.path=e.url})),t.defaultpic=!0,t.uShow=!0,t.myDescribution=n.data.personal_profile,1!=n.data.set_up_status&&2!=n.data.set_up_status||(t.show=!1)):t.phone=e.getStorageSync("USERINFO").telepone}))},upload:function(){e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(t){var n=t.tempFilePaths[0];e.navigateTo({url:"/pagescommon/upload?src="+n})}})},updateList:function(){var e=this;if(!this.user.head_imgs)return this.$Common.toast("请先完善简历");this.$Request.post(this.$api.user.updateResume).then((function(t){e.$Common.toast(t.msg),t.code}))},formSubmit:function(t){var n=this;console.log(t.detail.value);var i=[{name:"full_name",rule:["required","minLength:2","maxLength:6"],msg:["请输入姓名","姓名必须2个或以上字符","姓名不能超过6个字符"]},{name:"birthday",rule:["required","isDate"],msg:["请选择生日","请选择生日"]},{name:"hometown",rule:["required"],msg:["请选择现居住地"]}],o=t.detail.value,a=u.validation(o,i);if(a)return this.$Common.toast(a),!1;if(this.JobType)if(console.log(this.iwant),""!=this.iwant)if(""!=this.salary)if(this.phone)if(this.degree_act)if(this.myDescribution){var s=[],r=[];this.skillImg&&this.skillImg.map((function(e){r.push(e.aid)})),o.head_img=this.head_imgId||0,o.sex=this.sexIndex,o.want_find=s,o.work_experience=this.experience_act,o.station=this.iwant.aid,o.hometown=this.hometown,o.education=this.degree_act.id,o.want_find=this.JobType,o.hobby=this.myLike,o.salary=this.salary,o.personal_profile=this.myDescribution,o.city_id=this.city_id,o.life_photos=r.join(","),0!=this.isopen&&(this.isopen=!1,setTimeout((function(){n.isopen=!0}),1500),this.$Request.post(this.$api.user.subUserResume,o).then((function(t){if(n.$Common.toast(t.msg),1==t.code){var i=e.getStorageSync("USERINFO");i.is_personal_profile=t.data.is_personal_profile,e.setStorageSync("USERINFO",i),setTimeout((function(){"resiter"==n.page?e.reLaunch({url:"../../pages/index/index"}):e.navigateBack()}),500)}})))}else this.$Common.toast("请填写自我描述");else this.$Common.toast("请选择最高学历");else this.$Common.toast("请填写联系电话");else this.$Common.toast("请选择期望薪资");else this.$Common.toast("请选择职位类别");else this.$Common.toast("请输入期望行业职位")},goyulan:function(){e.navigateTo({url:"../../pagescommon/yingpin_detail"})}}},"components",{wPicker:i.default,benUpload:r});t.default=c}).call(this,n("543d")["default"])},b89b:function(e,t,n){},c13c:function(e,t,n){"use strict";var i=n("1a50"),o=n.n(i);o.a},dac3:function(e,t,n){"use strict";var i=n("b89b"),o=n.n(i);o.a},ee0c:function(e,t,n){"use strict";n.r(t);var i=n("f1a9"),o=n("85a6");for(var a in o)"default"!==a&&function(e){n.d(t,e,(function(){return o[e]}))}(a);n("dac3");var s,r=n("f0c5"),u=Object(r["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);t["default"]=u.exports},f1a9:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return i}));var i={benUpload:function(){return n.e("components/ben-upload/ben-upload").then(n.bind(null,"df45"))},wPicker:function(){return Promise.resolve().then(n.bind(null,"55d6"))}},o=function(){var e=this,t=e.$createElement;e._self._c},a=[]}},[["2201","common/runtime","common/vendor"]]]);