(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pagescenter/userypz/money/bind_alipay"],{1576:function(t,e,n){"use strict";n.r(e);var o=n("206e"),a=n.n(o);for(var i in o)"default"!==i&&function(t){n.d(e,t,(function(){return o[t]}))}(i);e["default"]=a.a},"206e":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n={data:function(){return{content:"",imgList:"",imgList2:"",paytype:2,account_id:"",wechatInfo:""}},onLoad:function(e){t.showLoading({}),this.paytype=e.type,this.getmsg()},methods:{lookImg:function(t){this.$Common.lookImg(t)},getmsg:function(){var e=this;this.$Request.get(this.$api.money.get_withdraw_account,{account_type:this.paytype}).then((function(n){t.hideLoading(),console.log(n,"获取绑定数据"),1==n.code&&(2==e.paytype?(e.content=n.data.true_name,e.account_id=n.data.account_id,e.imgList=n.data.qrcode,e.imgList2=n.data.qrcode[0].aid):e.wechatInfo={nickName:n.data.true_name,avatarUrl:n.data.qrcode})}))},DelImg:function(){var e=this;t.showModal({content:"确定要删除这张照片吗？",cancelText:"取消",confirmText:"确定",success:function(t){t.confirm&&(e.imgList="",e.imgList2="",console.log(e.imgList))}})},ChooseImage:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(n){for(var o in t.showLoading(),n.tempFilePaths)t.uploadFile({url:e.$Config("APIHOST")+e.$api.common.upload,filePath:n.tempFilePaths[o],name:"file[]",success:function(n){t.hideLoading();var o=JSON.parse(n.data);e.imgList=o.data[0].path,console.log(e.imgList),e.imgList2=o.data[0].id}})}})},getOpenid:function(){var e=this;t.login({success:function(n){t.getUserInfo({provider:"weixin",success:function(o){console.log(n,o,"========="),e.wechatInfo=o.userInfo,e.$Request.post(e.$api.money.bind_withdraw_account,{true_name:e.wechatInfo.nickName,qrcode:o.userInfo.avatarUrl||"",account_type:e.paytype,is_default:0,account_id:2==e.paytype?e.account_id:e.wechatInfo.openId}).then((function(n){1==n.code?(e.$Common.toast(n.msg),setTimeout((function(){t.navigateBack({})}),1e3)):e.$Common.toast(n.msg)}))}})}})},confir:function(){var e=this;2!=this.paytype||this.content?2!=this.paytype||this.account_id?this.$Request.post(this.$api.money.bind_withdraw_account,{true_name:this.content||"",qrcode:this.imgList||"",account_type:this.paytype,is_default:0,account_id:this.account_id||this.uniopenid||""}).then((function(n){1==n.code?(e.$Common.toast(n.msg),setTimeout((function(){t.navigateBack({})}),1e3)):e.$Common.toast(n.msg)})):this.$Common.toast("请填写支付宝账号"):this.$Common.toast("请输入姓名")}}};e.default=n}).call(this,n("543d")["default"])},"62e4":function(t,e,n){"use strict";n.r(e);var o=n("e137"),a=n("1576");for(var i in a)"default"!==i&&function(t){n.d(e,t,(function(){return a[t]}))}(i);n("b5e4");var c,s=n("f0c5"),u=Object(s["a"])(a["default"],o["b"],o["c"],!1,null,"cb784bea",null,!1,o["a"],c);e["default"]=u.exports},"8c9a":function(t,e,n){},a0e6:function(t,e,n){"use strict";(function(t){n("652a");o(n("66fd"));var e=o(n("62e4"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},b5e4:function(t,e,n){"use strict";var o=n("8c9a"),a=n.n(o);a.a},e137:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return o}));var a=function(){var t=this,e=t.$createElement;t._self._c},i=[]}},[["a0e6","common/runtime","common/vendor"]]]);